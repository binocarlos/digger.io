/*! digger.io 25-06-2013 */
(function(t,e,n){function r(n,i){if(!e[n]){if(!t[n]){var a="function"==typeof require&&require;if(!i&&a)return a(n,!0);if(o)return o(n,!0);throw Error("Cannot find module '"+n+"'")}var u=e[n]={exports:{}};t[n][0].call(u.exports,function(e){var o=t[n][1][e];return r(o?o:e)},u,u.exports)}return e[n].exports}for(var o="function"==typeof require&&require,i=0;n.length>i;i++)r(n[i]);return r})({1:[function(t,e){var n=e.exports={};n.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){if(t.source===window&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){var e=n.shift();e()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.binding=function(){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw Error("process.chdir is not supported")}},{}],2:[function(t,e,n){(function(t){function e(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;t.length>n;n++)if(e===t[n])return n;return-1}t.EventEmitter||(t.EventEmitter=function(){});var r=n.EventEmitter=t.EventEmitter,o="function"==typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=10;r.prototype.setMaxListeners=function(t){this._events||(this._events={}),this._events.maxListeners=t},r.prototype.emit=function(t){if("error"===t&&(!this._events||!this._events.error||o(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var e=this._events[t];if(!e)return!1;if("function"==typeof e){switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:var n=Array.prototype.slice.call(arguments,1);e.apply(this,n)}return!0}if(o(e)){for(var n=Array.prototype.slice.call(arguments,1),r=e.slice(),i=0,a=r.length;a>i;i++)r[i].apply(this,n);return!0}return!1},r.prototype.addListener=function(t,e){if("function"!=typeof e)throw Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",t,e),this._events[t])if(o(this._events[t])){if(!this._events[t].warned){var n;n=void 0!==this._events.maxListeners?this._events.maxListeners:i,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),console.trace())}this._events[t].push(e)}else this._events[t]=[this._events[t],e];else this._events[t]=e;return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){var n=this;return n.on(t,function r(){n.removeListener(t,r),e.apply(this,arguments)}),this},r.prototype.removeListener=function(t,n){if("function"!=typeof n)throw Error("removeListener only takes instances of Function");if(!this._events||!this._events[t])return this;var r=this._events[t];if(o(r)){var i=e(r,n);if(0>i)return this;r.splice(i,1),0==r.length&&delete this._events[t]}else this._events[t]===n&&delete this._events[t];return this},r.prototype.removeAllListeners=function(t){return 0===arguments.length?(this._events={},this):(t&&this._events&&this._events[t]&&(this._events[t]=null),this)},r.prototype.listeners=function(t){return this._events||(this._events={}),this._events[t]||(this._events[t]=[]),o(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]}})(t("__browserify_process"))},{__browserify_process:1}],3:[function(t,e,n){function r(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]==e)return n;return-1}function o(t,e,n){if(t&&"object"==typeof t&&t.href)return t;if("string"!=typeof t)throw new TypeError("Parameter 'url' must be a string, not "+typeof t);for(var o={},a=t,u=0,p=a.length;p>u&&-1!==r(h,a.charAt(u));u++);0!==u&&(a=a.substr(u));var d=l.exec(a);if(d){d=d[0];var N=d.toLowerCase();o.protocol=N,a=a.substr(d.length)}if(n||d||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===a.substr(0,2);!S||d&&_[d]||(a=a.substr(2),o.slashes=!0)}if(!_[d]&&(S||d&&!x[d])){var A=r(a,"@");if(-1!==A){for(var I=!0,u=0,p=v.length;p>u;u++){var C=r(a,v[u]);if(-1!==C&&A>C){I=!1;break}}I&&(o.auth=a.substr(0,A),a=a.substr(A+1))}for(var j=-1,u=0,p=y.length;p>u;u++){var C=r(a,y[u]);-1!==C&&(0>j||j>C)&&(j=C)}-1!==j?(o.host=a.substr(0,j),a=a.substr(j)):(o.host=a,a="");for(var O=s(o.host),T=f(O),u=0,p=T.length;p>u;u++){var D=T[u];o[D]=O[D]}if(o.hostname=o.hostname||"",o.hostname.length>m)o.hostname="";else for(var L=o.hostname.split(/\./),u=0,p=L.length;p>u;u++){var U=L[u];if(U&&!U.match(b)){for(var B="",R=0,M=U.length;M>R;R++)B+=U.charCodeAt(R)>127?"x":U[R];if(!B.match(b)){var F=L.slice(0,u),q=L.slice(u+1),P=U.match(w);P&&(F.push(P[1]),q.unshift(P[2])),q.length&&(a="/"+q.join(".")+a),o.hostname=F.join(".");break}}}o.hostname=o.hostname.toLowerCase();for(var W=o.hostname.split("."),J=[],u=0;W.length>u;++u){var $=W[u];J.push($.match(/[^A-Za-z0-9_-]/)?"xn--"+c.encode($):$)}o.hostname=J.join("."),o.host=(o.hostname||"")+(o.port?":"+o.port:""),o.href+=o.host}if(!E[N]){for(var u=0,p=g.length;p>u;u++){var z=g[u],H=encodeURIComponent(z);H===z&&(H=escape(z)),a=a.split(z).join(H)}for(var X=a.length,u=0,p=h.length;p>u;u++){var V=r(a,h[u]);-1!==V&&(X=Math.min(V,X))}a=a.substr(0,X)}var G=r(a,"#");-1!==G&&(o.hash=a.substr(G),a=a.slice(0,G));var Y=r(a,"?");return-1!==Y?(o.search=a.substr(Y),o.query=a.substr(Y+1),e&&(o.query=k.parse(o.query)),a=a.slice(0,Y)):e&&(o.search="",o.query={}),a&&(o.pathname=a),x[d]&&o.hostname&&!o.pathname&&(o.pathname="/"),(o.pathname||o.search)&&(o.path=(o.pathname?o.pathname:"")+(o.search?o.search:"")),o.href=i(o),o}function i(t){"string"==typeof t&&(t=o(t));var e=t.auth||"";if(e){e=e.split("@").join("%40");for(var n=0,r=v.length;r>n;n++){var i=v[n];e=e.split(i).join(encodeURIComponent(i))}e+="@"}var a=t.protocol||"",u=void 0!==t.host?e+t.host:void 0!==t.hostname?e+t.hostname+(t.port?":"+t.port:""):!1,s=t.pathname||"",c=t.query&&("object"==typeof t.query&&f(t.query).length?k.stringify(t.query):"")||"",l=t.search||c&&"?"+c||"",p=t.hash||"";return a&&":"!==a.substr(-1)&&(a+=":"),t.slashes||(!a||x[a])&&u!==!1?(u="//"+(u||""),s&&"/"!==s.charAt(0)&&(s="/"+s)):u||(u=""),p&&"#"!==p.charAt(0)&&(p="#"+p),l&&"?"!==l.charAt(0)&&(l="?"+l),a+u+s+l+p}function a(t,e){return i(u(t,e))}function u(t,e){if(!t)return e;if(t=o(i(t),!1,!0),e=o(i(e),!1,!0),t.hash=e.hash,""===e.href)return t.href=i(t),t;if(e.slashes&&!e.protocol)return e.protocol=t.protocol,x[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=i(e),e;if(e.protocol&&e.protocol!==t.protocol){if(!x[e.protocol])return e.href=i(e),e;if(t.protocol=e.protocol,!e.host&&!_[e.protocol]){for(var n=(e.pathname||"").split("/");n.length&&!(e.host=n.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==n[0]&&n.unshift(""),2>n.length&&n.unshift(""),e.pathname=n.join("/")}return t.pathname=e.pathname,t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,(void 0!==t.pathname||void 0!==t.search)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.slashes=t.slashes||e.slashes,t.href=i(t),t}var a=t.pathname&&"/"===t.pathname.charAt(0),u=void 0!==e.host||e.pathname&&"/"===e.pathname.charAt(0),s=u||a||t.host&&e.pathname,c=s,f=t.pathname&&t.pathname.split("/")||[],n=e.pathname&&e.pathname.split("/")||[],l=t.protocol&&!x[t.protocol];if(l&&(delete t.hostname,delete t.port,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),delete t.host,e.protocol&&(delete e.hostname,delete e.port,e.host&&(""===n[0]?n[0]=e.host:n.unshift(e.host)),delete e.host),s=s&&(""===n[0]||""===f[0])),u)t.host=e.host||""===e.host?e.host:t.host,t.hostname=e.hostname||""===e.hostname?e.hostname:t.hostname,t.search=e.search,t.query=e.query,f=n;else if(n.length)f||(f=[]),f.pop(),f=f.concat(n),t.search=e.search,t.query=e.query;else if("search"in e){if(l){t.hostname=t.host=f.shift();var p=t.host&&r(t.host,"@")>0?t.host.split("@"):!1;p&&(t.auth=p.shift(),t.host=t.hostname=p.shift())}return t.search=e.search,t.query=e.query,(void 0!==t.pathname||void 0!==t.search)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=i(t),t}if(!f.length)return delete t.pathname,t.search?delete t.path:t.path="/"+t.search,t.href=i(t),t;for(var h=f.slice(-1)[0],d=(t.host||e.host)&&("."===h||".."===h)||""===h,g=0,y=f.length;y>=0;y--)h=f[y],"."==h?f.splice(y,1):".."===h?(f.splice(y,1),g++):g&&(f.splice(y,1),g--);if(!s&&!c)for(;g--;g)f.unshift("..");!s||""===f[0]||f[0]&&"/"===f[0].charAt(0)||f.unshift(""),d&&"/"!==f.join("/").substr(-1)&&f.push("");var v=""===f[0]||f[0]&&"/"===f[0].charAt(0);if(l){t.hostname=t.host=v?"":f.length?f.shift():"";var p=t.host&&r(t.host,"@")>0?t.host.split("@"):!1;p&&(t.auth=p.shift(),t.host=t.hostname=p.shift())}return s=s||t.host&&f.length,s&&!v&&f.unshift(""),t.pathname=f.join("/"),(void 0!==t.pathname||void 0!==t.search)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t.href=i(t),t}function s(t){var e={},n=p.exec(t);return n&&(n=n[0],e.port=n.substr(1),t=t.substr(0,t.length-n.length)),t&&(e.hostname=t),e}var c={encode:function(t){return t}};n.parse=o,n.resolve=a,n.resolveObject=u,n.format=i;var f=Object.keys||function f(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)t.hasOwnProperty(n)&&(e[e.length]=n);return e},l=/^([a-z0-9.+-]+:)/i,p=/:[0-9]+$/,h=["<",">",'"',"`"," ","\r","\n","	"],d=["{","}","|","\\","^","~","[","]","`"].concat(h),g=["'"],y=["%","/","?",";","#"].concat(d).concat(g),v=["/","@","?","#"].concat(h),m=255,b=/^[a-zA-Z0-9][a-z0-9A-Z_-]{0,62}$/,w=/^([a-zA-Z0-9][a-z0-9A-Z_-]{0,62})(.*)$/,E={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},x={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},k=t("querystring")},{querystring:4}],5:[function(t,e,n){function r(t){return t instanceof Array||Array.isArray(t)||t&&t!==Object.prototype&&r(t.__proto__)}function o(t){return t instanceof RegExp||"object"==typeof t&&"[object RegExp]"===Object.prototype.toString.call(t)}function i(t){if(t instanceof Date)return!0;if("object"!=typeof t)return!1;var e=Date.prototype&&u(Date.prototype),n=t.__proto__&&u(t.__proto__);return JSON.stringify(n)===JSON.stringify(e)}t("events"),n.isArray=r,n.isDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)},n.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},n.print=function(){},n.puts=function(){},n.debug=function(){},n.inspect=function(t,e,s,c){function f(t,s){if(t&&"function"==typeof t.inspect&&t!==n&&(!t.constructor||t.constructor.prototype!==t))return t.inspect(s);switch(typeof t){case"undefined":return p("undefined","undefined");case"string":var c="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return p(c,"string");case"number":return p(""+t,"number");case"boolean":return p(""+t,"boolean")}if(null===t)return p("null","null");var h=a(t),d=e?u(t):h;if("function"==typeof t&&0===d.length){if(o(t))return p(""+t,"regexp");var g=t.name?": "+t.name:"";return p("[Function"+g+"]","special")}if(i(t)&&0===d.length)return p(t.toUTCString(),"date");var y,v,m;if(r(t)?(v="Array",m=["[","]"]):(v="Object",m=["{","}"]),"function"==typeof t){var b=t.name?": "+t.name:"";y=o(t)?" "+t:" [Function"+b+"]"}else y="";if(i(t)&&(y=" "+t.toUTCString()),0===d.length)return m[0]+y+m[1];if(0>s)return o(t)?p(""+t,"regexp"):p("[Object]","special");l.push(t);var w=d.map(function(e){var n,o;if(t.__lookupGetter__&&(t.__lookupGetter__(e)?o=t.__lookupSetter__(e)?p("[Getter/Setter]","special"):p("[Getter]","special"):t.__lookupSetter__(e)&&(o=p("[Setter]","special"))),0>h.indexOf(e)&&(n="["+e+"]"),o||(0>l.indexOf(t[e])?(o=null===s?f(t[e]):f(t[e],s-1),o.indexOf("\n")>-1&&(o=r(t)?o.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+o.split("\n").map(function(t){return"   "+t}).join("\n"))):o=p("[Circular]","special")),n===void 0){if("Array"===v&&e.match(/^\d+$/))return o;n=JSON.stringify(""+e),n.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(n=n.substr(1,n.length-2),n=p(n,"name")):(n=n.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),n=p(n,"string"))}return n+": "+o});l.pop();var E=0,_=w.reduce(function(t,e){return E++,e.indexOf("\n")>=0&&E++,t+e.length+1},0);return w=_>50?m[0]+(""===y?"":y+"\n ")+" "+w.join(",\n  ")+" "+m[1]:m[0]+y+" "+w.join(", ")+" "+m[1]}var l=[],p=function(t,e){var n={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r={special:"cyan",number:"blue","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[e];return r?"["+n[r][0]+"m"+t+"["+n[r][1]+"m":t};return c||(p=function(t){return t}),f(t,s===void 0?2:s)},n.log=function(){},n.pump=null;var a=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e},u=Object.getOwnPropertyNames||function(t){var e=[];for(var n in t)Object.hasOwnProperty.call(t,n)&&e.push(n);return e},s=Object.create||function(t,e){var n;if(null===t)n={__proto__:null};else{if("object"!=typeof t)throw new TypeError("typeof prototype["+typeof t+"] != 'object'");var r=function(){};r.prototype=t,n=new r,n.__proto__=t}return e!==void 0&&Object.defineProperties&&Object.defineProperties(n,e),n};n.inherits=function(t,e){t.super_=e,t.prototype=s(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})};var c=/%[sdj%]/g;n.format=function(t){if("string"!=typeof t){for(var e=[],r=0;arguments.length>r;r++)e.push(n.inspect(arguments[r]));return e.join(" ")}for(var r=1,o=arguments,i=o.length,a=(t+"").replace(c,function(t){if("%%"===t)return"%";if(r>=i)return t;switch(t){case"%s":return o[r++]+"";case"%d":return Number(o[r++]);case"%j":return JSON.stringify(o[r++]);default:return t}}),u=o[r];i>r;u=o[++r])a+=null===u||"object"!=typeof u?" "+u:" "+n.inspect(u);return a}},{events:2}],6:[function(t){function e(){o.isFunction(arguments[0])&&(a?arguments[0].apply(e,[e]):u.push(arguments[0]))}var n=t("./proto"),r=t("../warehouse/supplychain"),o=t("lodash"),i=t("async"),a=!1,u=[];e._trigger_ready=function(){o.each(u,function(t){t.apply(e,[e])}),u=[]},e.bootstrap=function(t){t=o.defaults(t,{protocol:"http://",host:"digger.io",channel:null});var n=io.connect([t.protocol,t.host,"/",t.channel].join(""));n.on("connect",function(){e._trigger_ready()}),e.supplychain=r(function(t,e){n.emit("request",t.toJSON(),function(t){console.log("-------------------------------------------"),console.log("answer"),console.dir(t),e.fill(t)})})},e.connect=function(t){if(!this.supplychain)throw Error("there is no supplychain - this means we are not yet connected - place code inside of $digger(function(){})");return e.supplychain.connect(t)},e.Proto=n,e.create=e.Proto.factory,window._=o,window.async=i,window.$digger=e},{"../warehouse/supplychain":7,"./proto":8,lodash:9,async:10}],4:[function(t,e,n){function r(t,e){if(0==t[e].length)return t[e]={};var n={};for(var r in t[e])n[r]=t[e][r];return t[e]=n,n}function o(t,e,n,i){var a=t.shift();if(a){var u=e[n]=e[n]||[];"]"==a?y(u)?""!=i&&u.push(i):"object"==typeof u?u[v(u).length]=i:u=e[n]=[e[n],i]:~g(a,"]")?(a=a.substr(0,a.length-1),!w.test(a)&&y(u)&&(u=r(e,n)),o(t,u,a,i)):(!w.test(a)&&y(u)&&(u=r(e,n)),o(t,u,a,i))}else y(e[n])?e[n].push(i):e[n]="object"==typeof e[n]?i:e[n]===void 0?i:[e[n],i]}function i(t,e,n){if(~g(e,"]")){var r=e.split("[");r.length,o(r,t,"base",n)}else{if(!w.test(e)&&y(t.base)){var i={};for(var a in t.base)i[a]=t.base[a];t.base=i}l(t.base,e,n)}return t}function a(t){var e={base:{}};return m(v(t),function(n){i(e,n,t[n])}),e.base}function u(t){return b((t+"").split("&"),function(t,e){var n=g(e,"="),r=p(e),o=e.substr(0,r||n),a=e.substr(r||n,e.length),a=a.substr(g(a,"=")+1,a.length);return""==o&&(o=e,a=""),""==o?t:i(t,h(o),h(a))},{base:{}}).base}function s(t,e){if(!e)throw new TypeError("stringify expects an object");return e+"="+encodeURIComponent(t)}function c(t,e){var n=[];if(!e)throw new TypeError("stringify expects an object");for(var r=0;t.length>r;r++)n.push(E(t[r],e+"["+r+"]"));return n.join("&")}function f(t,e){for(var n,r=[],o=v(t),i=0,a=o.length;a>i;++i)n=o[i],null==t[n]?r.push(encodeURIComponent(n)+"="):r.push(E(t[n],e?e+"["+encodeURIComponent(n)+"]":encodeURIComponent(n)));return r.join("&")}function l(t,e,n){var r=t[e];void 0===r?t[e]=n:y(r)?r.push(n):t[e]=[r,n]}function p(t){for(var e,n,r=t.length,o=0;r>o;++o)if(n=t[o],"]"==n&&(e=!1),"["==n&&(e=!0),"="==n&&!e)return o}function h(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}}var d=Object.prototype.toString,g="function"==typeof Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0;t.length>n;n++)if(t[n]===e)return n;return-1},y=Array.isArray||function(t){return"[object Array]"==d.call(t)},v=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e},m="function"==typeof Array.prototype.forEach?function(t,e){return t.forEach(e)}:function(t,e){for(var n=0;t.length>n;n++)e(t[n])},b=function(t,e,n){if("function"==typeof t.reduce)return t.reduce(e,n);for(var r=n,o=0;t.length>o;o++)r=e(r,t[o]);return r},w=/^[0-9]+$/;n.parse=function(t){return null==t||""==t?{}:"object"==typeof t?a(t):u(t)};var E=n.stringify=function(t,e){return y(t)?c(t,e):"[object Object]"==d.call(t)?f(t,e):"string"==typeof t?s(t,e):e+"="+encodeURIComponent(t+"")}},{}],9:[function(t,e,n){(function(t){(function(r){function o(t){function e(t){return t&&"object"==typeof t&&!K(t)&&Kn.call(t,"__wrapped__")?t:new P(t)}function n(t){var e=t.length,n=e>=p;if(n)for(var r={},o=-1;e>++o;){var i=l+t[o];(r[i]||(r[i]=[])).push(t[o])}return function(e){if(n){var o=l+e;return r[o]&&ze(r[o],e)>-1}return ze(t,e)>-1}}function a(t){return t.charCodeAt(0)}function s(t,e){var n=t.index,r=e.index;if(t=t.criteria,e=e.criteria,t!==e){if(t>e||t===i)return 1;if(e>t||e===i)return-1}return r>n?-1:1}function j(t,e,n,r){function o(){var r=arguments,c=a?this:e;if(i||(t=e[u]),n.length&&(r=r.length?(r=hr.call(r),s?r.concat(n):n.concat(r)):n),this instanceof o){W.prototype=t.prototype,c=new W,W.prototype=null;var f=t.apply(c,r);return ue(f)?f:c}return t.apply(c,r)}var i=ae(t),a=!n,u=e;if(a){var s=r;n=e}else if(!i){if(!r)throw new Jn;e=t}return o}function F(t){return"\\"+R[t]}function q(t){return wr[t]}function P(t){this.__wrapped__=t}function W(){}function J(t){var e=!1;if(!t||rr.call(t)!=T)return e;var n=t.constructor;return(ae(n)?n instanceof n:vr.nodeClass||!isNode(t))?(kr(t,function(t,n){e=n}),e===!1||Kn.call(t,e)):e}function $(t,e,n){e||(e=0),n===i&&(n=t?t.length:0);for(var r=-1,o=n-e||0,a=Ln(0>o?0:o);o>++r;)a[r]=t[e+r];return a}function z(t){return Er[t]}function H(t){return rr.call(t)==S}function X(t,n,r,o,a,u){var s=t;if("function"==typeof n&&(o=r,r=n,n=!1),"function"==typeof r){if(r=o===i?r:e.createCallback(r,o,1),s=r(s),s!==i)return s;s=t}var c=ue(s);if(c){var f=rr.call(s);if(!U[f])return s;var l=K(s)}if(!c||!n)return c?l?$(s):_r({},s):s;var p=yr[f];switch(f){case I:case C:return new p(+s);case O:case L:return new p(s);case D:return p(s.source,m.exec(s))}a||(a=[]),u||(u=[]);for(var h=a.length;h--;)if(a[h]==t)return u[h];return s=l?p(s.length):{},l&&(Kn.call(t,"index")&&(s.index=t.index),Kn.call(t,"input")&&(s.input=t.input)),a.push(t),u.push(s),(l?Ne:Nr)(t,function(t,e){s[e]=X(t,n,r,i,a,u)}),s}function V(t,e,n){return X(t,!0,e,n)}function G(t,n,r){var o;return n=e.createCallback(n,r),Nr(t,function(t,e,r){return n(t,e,r)?(o=e,!1):i}),o}function Y(t){var e=[];return kr(t,function(t,n){ae(t)&&e.push(n)}),e.sort()}function Z(t,e){return t?Kn.call(t,e):!1}function Q(t){for(var e=-1,n=br(t),r=n.length,o={};r>++e;){var i=n[e];o[t[i]]=i}return o}function K(t){return t instanceof Ln||ir(t)}function te(t){return t===!0||t===!1||rr.call(t)==I}function ee(t){return t instanceof Bn||rr.call(t)==C}function ne(t){return t?1===t.nodeType:!1}function re(t){var e=!0;if(!t)return e;var n=rr.call(t),r=t.length;return n==A||n==L||n==S||n==T&&"number"==typeof r&&ae(t.splice)?!r:(Nr(t,function(){return e=!1}),e)}function oe(t,n,r,o,a,u){var s=r===f;if("function"==typeof r&&!s){r=e.createCallback(r,o,2);var c=r(t,n);if(c!==i)return!!c}if(t===n)return 0!==t||1/t==1/n;var l=typeof t,p=typeof n;if(t===t&&(!t||"function"!=l&&"object"!=l)&&(!n||"function"!=p&&"object"!=p))return!1;if(null==t||null==n)return t===n;var h=rr.call(t),d=rr.call(n);if(h==S&&(h=T),d==S&&(d=T),h!=d)return!1;switch(h){case I:case C:return+t==+n;case O:return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case D:case L:return t==Wn(n)}var g=h==A;if(!g){if(Kn.call(t,"__wrapped__ ")||Kn.call(n,"__wrapped__"))return oe(t.__wrapped__||t,n.__wrapped__||n,r,o,a,u);if(h!=T)return!1;var y=t.constructor,v=n.constructor;if(y!=v&&!(ae(y)&&y instanceof y&&ae(v)&&v instanceof v))return!1}a||(a=[]),u||(u=[]);for(var m=a.length;m--;)if(a[m]==t)return u[m]==n;var b=0;if(c=!0,a.push(t),u.push(n),g){if(m=t.length,b=n.length,c=b==t.length,!c&&!s)return c;for(;b--;){var w=m,E=n[b];if(s)for(;w--&&!(c=oe(t[w],E,r,o,a,u)););else if(!(c=oe(t[b],E,r,o,a,u)))break}return c}return kr(n,function(e,n,s){return Kn.call(s,n)?(b++,c=Kn.call(t,n)&&oe(t[n],e,r,o,a,u)):i}),c&&!s&&kr(t,function(t,e,n){return Kn.call(n,e)?c=--b>-1:i}),c}function ie(t){return ar(t)&&!ur(parseFloat(t))}function ae(t){return"function"==typeof t}function ue(t){return t?B[typeof t]:!1}function se(t){return fe(t)&&t!=+t}function ce(t){return null===t}function fe(t){return"number"==typeof t||rr.call(t)==O}function le(t){return t instanceof Pn||rr.call(t)==D}function pe(t){return"string"==typeof t||rr.call(t)==L}function he(t){return t===i}function de(t,n,r){var o=arguments,a=0,u=2;if(!ue(t))return t;if(r===f)var s=o[3],c=o[4],l=o[5];else c=[],l=[],"number"!=typeof r&&(u=o.length),u>3&&"function"==typeof o[u-2]?s=e.createCallback(o[--u-1],o[u--],2):u>2&&"function"==typeof o[u-1]&&(s=o[--u]);for(;u>++a;)(K(o[a])?Ne:Nr)(o[a],function(e,n){var r,o,a=e,u=t[n];if(e&&((o=K(e))||Sr(e))){for(var p=c.length;p--;)if(r=c[p]==e){u=l[p];break}if(!r){var h;s&&(a=s(u,e),(h=a!==i)&&(u=a)),h||(u=o?K(u)?u:[]:Sr(u)?u:{}),c.push(e),l.push(u),h||(u=de(u,e,f,s,c,l))}}else s&&(a=s(u,e),a===i&&(a=e)),a!==i&&(u=a);t[n]=u});return t}function ge(t,n,r){var o="function"==typeof n,i={};if(o)n=e.createCallback(n,r);else var a=Yn.apply($n,hr.call(arguments,1));return kr(t,function(t,e,r){(o?!n(t,e,r):0>ze(a,e))&&(i[e]=t)}),i}function ye(t){for(var e=-1,n=br(t),r=n.length,o=Ln(r);r>++e;){var i=n[e];o[e]=[i,t[i]]}return o}function ve(t,n,r){var o={};if("function"!=typeof n)for(var i=-1,a=Yn.apply($n,hr.call(arguments,1)),u=ue(t)?a.length:0;u>++i;){var s=a[i];s in t&&(o[s]=t[s])}else n=e.createCallback(n,r),kr(t,function(t,e,r){n(t,e,r)&&(o[e]=t)});return o}function me(t){for(var e=-1,n=br(t),r=n.length,o=Ln(r);r>++e;)o[e]=t[n[e]];return o}function be(t){for(var e=-1,n=Yn.apply($n,hr.call(arguments,1)),r=n.length,o=Ln(r);r>++e;)o[e]=t[n[e]];return o}function we(t,e,n){var r=-1,o=t?t.length:0,a=!1;return n=(0>n?cr(0,o+n):n)||0,"number"==typeof o?a=(pe(t)?t.indexOf(e,n):ze(t,e,n))>-1:Nr(t,function(t){return++r>=n?!(a=t===e):i}),a}function Ee(t,n,r){var o={};return n=e.createCallback(n,r),Ne(t,function(t,e,r){e=Wn(n(t,e,r)),Kn.call(o,e)?o[e]++:o[e]=1}),o}function _e(t,n,r){var o=!0;n=e.createCallback(n,r);var i=-1,a=t?t.length:0;if("number"==typeof a)for(;a>++i&&(o=!!n(t[i],i,t)););else Nr(t,function(t,e,r){return o=!!n(t,e,r)});return o}function xe(t,n,r){var o=[];n=e.createCallback(n,r);var i=-1,a=t?t.length:0;if("number"==typeof a)for(;a>++i;){var u=t[i];n(u,i,t)&&o.push(u)}else Nr(t,function(t,e,r){n(t,e,r)&&o.push(t)});return o}function ke(t,n,r){n=e.createCallback(n,r);var o=-1,a=t?t.length:0;if("number"!=typeof a){var u;return Nr(t,function(t,e,r){return n(t,e,r)?(u=t,!1):i}),u}for(;a>++o;){var s=t[o];if(n(s,o,t))return s}}function Ne(t,n,r){var o=-1,a=t?t.length:0;if(n=n&&r===i?n:e.createCallback(n,r),"number"==typeof a)for(;a>++o&&n(t[o],o,t)!==!1;);else Nr(t,n);return t}function Se(t,n,r){var o={};return n=e.createCallback(n,r),Ne(t,function(t,e,r){e=Wn(n(t,e,r)),(Kn.call(o,e)?o[e]:o[e]=[]).push(t)}),o}function Ae(t,e){var n=hr.call(arguments,2),r=-1,o="function"==typeof e,i=t?t.length:0,a=Ln("number"==typeof i?i:0);return Ne(t,function(t){a[++r]=(o?e:t[e]).apply(t,n)}),a}function Ie(t,n,r){var o=-1,i=t?t.length:0;if(n=e.createCallback(n,r),"number"==typeof i)for(var a=Ln(i);i>++o;)a[o]=n(t[o],o,t);else a=[],Nr(t,function(t,e,r){a[++o]=n(t,e,r)});return a}function Ce(t,n,r){var o=-1/0,i=o;if(!n&&K(t))for(var u=-1,s=t.length;s>++u;){var c=t[u];c>i&&(i=c)}else n=!n&&pe(t)?a:e.createCallback(n,r),Ne(t,function(t,e,r){var a=n(t,e,r);a>o&&(o=a,i=t)});return i}function je(t,n,r){var o=1/0,i=o;if(!n&&K(t))for(var u=-1,s=t.length;s>++u;){var c=t[u];i>c&&(i=c)}else n=!n&&pe(t)?a:e.createCallback(n,r),Ne(t,function(t,e,r){var a=n(t,e,r);o>a&&(o=a,i=t)});return i}function Oe(t,e){var n=-1,r=t?t.length:0;if("number"==typeof r)for(var o=Ln(r);r>++n;)o[n]=t[n][e];return o||Ie(t,e)}function Te(t,n,r,o){if(!t)return r;var i=3>arguments.length;n=e.createCallback(n,o,4);var a=-1,u=t.length;if("number"==typeof u)for(i&&(r=t[++a]);u>++a;)r=n(r,t[a],a,t);else Nr(t,function(t,e,o){r=i?(i=!1,t):n(r,t,e,o)});return r}function De(t,n,r,o){var i=t,a=t?t.length:0,u=3>arguments.length;if("number"!=typeof a){var s=br(t);a=s.length}return n=e.createCallback(n,o,4),Ne(t,function(t,e,o){e=s?s[--a]:--a,r=u?(u=!1,i[e]):n(r,i[e],e,o)}),r}function Le(t,n,r){return n=e.createCallback(n,r),xe(t,function(t,e,r){return!n(t,e,r)})}function Ue(t){var e=-1,n=t?t.length:0,r=Ln("number"==typeof n?n:0);return Ne(t,function(t){var n=Zn(pr()*(++e+1));r[e]=r[n],r[n]=t}),r}function Be(t){var e=t?t.length:0;return"number"==typeof e?e:br(t).length}function Re(t,n,r){var o;n=e.createCallback(n,r);var i=-1,a=t?t.length:0;if("number"==typeof a)for(;a>++i&&!(o=n(t[i],i,t)););else Nr(t,function(t,e,r){return!(o=n(t,e,r))});return!!o}function Me(t,n,r){var o=-1,i=t?t.length:0,a=Ln("number"==typeof i?i:0);for(n=e.createCallback(n,r),Ne(t,function(t,e,r){a[++o]={criteria:n(t,e,r),index:o,value:t}}),i=a.length,a.sort(s);i--;)a[i]=a[i].value;return a}function Fe(t){return t&&"number"==typeof t.length?$(t):me(t)}function qe(t){for(var e=-1,n=t?t.length:0,r=[];n>++e;){var o=t[e];o&&r.push(o)}return r}function Pe(t){for(var e=-1,r=t?t.length:0,o=Yn.apply($n,hr.call(arguments,1)),i=n(o),a=[];r>++e;){var u=t[e];i(u)||a.push(u)}return a}function We(t,n,r){var o=-1,i=t?t.length:0;for(n=e.createCallback(n,r);i>++o;)if(n(t[o],o,t))return o;return-1}function Je(t,n,r){if(t){var o=0,i=t.length;if("number"!=typeof n&&null!=n){var a=-1;for(n=e.createCallback(n,r);i>++a&&n(t[a],a,t);)o++}else if(o=n,null==o||r)return t[0];return $(t,0,fr(cr(0,o),i))}}function $e(t,n,r,o){var i=-1,a=t?t.length:0,u=[];for("boolean"!=typeof n&&null!=n&&(o=r,r=n,n=!1),null!=r&&(r=e.createCallback(r,o));a>++i;){var s=t[i];r&&(s=r(s,i,t)),K(s)?tr.apply(u,n?s:$e(s)):u.push(s)}return u}function ze(t,e,n){var r=-1,o=t?t.length:0;if("number"==typeof n)r=(0>n?cr(0,o+n):n||0)-1;else if(n)return r=Qe(t,e),t[r]===e?r:-1;for(;o>++r;)if(t[r]===e)return r;return-1}function He(t,n,r){if(!t)return[];var o=0,i=t.length;if("number"!=typeof n&&null!=n){var a=i;for(n=e.createCallback(n,r);a--&&n(t[a],a,t);)o++}else o=null==n||r?1:n||o;return $(t,0,fr(cr(0,i-o),i))}function Xe(t){var e=arguments,r=e.length,o={0:{}},i=-1,a=t?t.length:0,u=a>=p,s=[],c=s;t:for(;a>++i;){var f=t[i];if(u)var h=l+f,d=o[0][h]?!(c=o[0][h]):c=o[0][h]=[];if(d||0>ze(c,f)){u&&c.push(f);for(var g=r;--g;)if(!(o[g]||(o[g]=n(e[g])))(f))continue t;s.push(f)}}return s}function Ve(t,n,r){if(t){var o=0,i=t.length;if("number"!=typeof n&&null!=n){var a=i;for(n=e.createCallback(n,r);a--&&n(t[a],a,t);)o++}else if(o=n,null==o||r)return t[i-1];return $(t,cr(0,i-o))}}function Ge(t,e,n){var r=t?t.length:0;for("number"==typeof n&&(r=(0>n?cr(0,r+n):fr(n,r-1))+1);r--;)if(t[r]===e)return r;return-1}function Ye(t,e,n){t=+t||0,n=+n||1,null==e&&(e=t,t=0);for(var r=-1,o=cr(0,Vn((e-t)/n)),i=Ln(o);o>++r;)i[r]=t,t+=n;return i}function Ze(t,n,r){if("number"!=typeof n&&null!=n){var o=0,i=-1,a=t?t.length:0;for(n=e.createCallback(n,r);a>++i&&n(t[i],i,t);)o++}else o=null==n||r?1:cr(0,n);return $(t,o)}function Qe(t,n,r,o){var i=0,a=t?t.length:i;for(r=r?e.createCallback(r,o,1):_n,n=r(n);a>i;){var u=i+a>>>1;n>r(t[u])?i=u+1:a=u}return i}function Ke(t){return K(t)||(arguments[0]=t?hr.call(t):$n),tn(Yn.apply($n,arguments))}function tn(t,n,r,o){var i=-1,a=t?t.length:0,u=[],s=u;"boolean"!=typeof n&&null!=n&&(o=r,r=n,n=!1);var c=!n&&a>=p;if(c)var f={};for(null!=r&&(s=[],r=e.createCallback(r,o));a>++i;){var h=t[i],d=r?r(h,i,t):h;if(c)var g=l+d,y=f[g]?!(s=f[g]):s=f[g]=[];(n?!i||s[s.length-1]!==d:y||0>ze(s,d))&&((r||c)&&s.push(d),u.push(h))}return u}function en(t){for(var e=-1,n=t?t.length:0,r=n?Ce(Oe(t,"length")):0,o=Ln(r);n>++e;)for(var i=-1,a=t[e];r>++i;)(o[i]||(o[i]=Ln(n)))[e]=a[i];return o}function nn(t){return Pe(t,hr.call(arguments,1))}function rn(t){for(var e=-1,n=t?Ce(Oe(arguments,"length")):0,r=Ln(n);n>++e;)r[e]=Oe(arguments,e);return r}function on(t,e){for(var n=-1,r=t?t.length:0,o={};r>++n;){var i=t[n];e?o[i]=e[n]:o[i[0]]=i[1]}return o}function an(t,e){return 1>t?e():function(){return 1>--t?e.apply(this,arguments):i}}function un(t,e){return vr.fastBind||or&&arguments.length>2?or.call.apply(or,arguments):j(t,e,hr.call(arguments,2))}function sn(t){for(var e=arguments.length>1?Yn.apply($n,hr.call(arguments,1)):Y(t),n=-1,r=e.length;r>++n;){var o=e[n];t[o]=un(t[o],t)}return t}function cn(t,e){return j(t,e,hr.call(arguments,2),f)}function fn(){var t=arguments;return function(){for(var e=arguments,n=t.length;n--;)e=[t[n].apply(this,e)];return e[0]}}function ln(t,e,n){if(null==t)return _n;var r=typeof t;if("function"!=r){if("object"!=r)return function(e){return e[t]};var o=br(t);return function(e){for(var n=o.length,r=!1;n--&&(r=oe(e[o[n]],t[o[n]],f)););return r}}return e!==i?1===n?function(n){return t.call(e,n)}:2===n?function(n,r){return t.call(e,n,r)}:4===n?function(n,r,o,i){return t.call(e,n,r,o,i)}:function(n,r,o){return t.call(e,n,r,o)}:t}function pn(t,e,n){function r(){u=null,s&&(i=t.apply(a,o))}var o,i,a,u,s=!0;if(n===!0){var c=!0;s=!1}else n&&B[typeof n]&&(c=n.leading,s="trailing"in n?n.trailing:s);return function(){var n=c&&!u;return o=arguments,a=this,Gn(u),u=nr(r,e),n&&(i=t.apply(a,o)),i}}function hn(t){var e=hr.call(arguments,1);return nr(function(){t.apply(i,e)},1)}function dn(t,e){var n=hr.call(arguments,2);return nr(function(){t.apply(i,n)},e)}function gn(t,e){var n={};return function(){var r=l+(e?e.apply(this,arguments):arguments[0]);return Kn.call(n,r)?n[r]:n[r]=t.apply(this,arguments)}}function yn(t){var e,n;return function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)}}function vn(t){return j(t,hr.call(arguments,1))}function mn(t){return j(t,hr.call(arguments,1),null,f)}function bn(t,e,n){function r(){s=new Bn,u=null,f&&(i=t.apply(a,o))}var o,i,a,u,s=0,c=!0,f=!0;return n===!1?c=!1:n&&B[typeof n]&&(c="leading"in n?n.leading:c,f="trailing"in n?n.trailing:f),function(){var n=new Bn;u||c||(s=n);var f=e-(n-s);return o=arguments,a=this,0>=f?(Gn(u),u=null,s=n,i=t.apply(a,o)):u||(u=nr(r,f)),i}}function wn(t,e){return function(){var n=[t];return tr.apply(n,arguments),e.apply(this,n)}}function En(t){return null==t?"":Wn(t).replace(_,q)}function _n(t){return t}function xn(t){Ne(Y(t),function(n){var r=e[n]=t[n];e.prototype[n]=function(){var t=this.__wrapped__,n=[t];tr.apply(n,arguments);var o=r.apply(e,n);return t&&"object"==typeof t&&t==o?this:new P(o)}})}function kn(){return t._=Hn,this}function Nn(t,e){return null==t&&null==e&&(e=1),t=+t||0,null==e&&(e=t,t=0),t+Zn(pr()*((+e||0)-t+1))
}function Sn(t,e){var n=t?t[e]:i;return ae(n)?t[e]():n}function An(t,n,r){var o=e.templateSettings;t||(t=""),r=xr({},r,o);var a,u=xr({},r.imports,o.imports),s=br(u),c=me(u),f=0,l=r.interpolate||E,p="__p += '",y=Pn((r.escape||E).source+"|"+l.source+"|"+(l===b?v:E).source+"|"+(r.evaluate||E).source+"|$","g");t.replace(y,function(e,n,r,o,i,u){return r||(r=o),p+=t.slice(f,u).replace(x,F),n&&(p+="' +\n__e("+n+") +\n'"),i&&(a=!0,p+="';\n"+i+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=u+e.length,e}),p+="';\n";var m=r.variable,w=m;w||(m="obj",p="with ("+m+") {\n"+p+"\n}\n"),p=(a?p.replace(h,""):p).replace(d,"$1").replace(g,"$1;"),p="function("+m+") {\n"+(w?"":m+" || ("+m+" = {});\n")+"var __t, __p = '', __e = _.escape"+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var _="\n/*\n//@ sourceURL="+(r.sourceURL||"/lodash/template/source["+N++ +"]")+"\n*/";try{var k=Rn(s,"return "+p+_).apply(i,c)}catch(S){throw S.source=p,S}return n?k(n):(k.source=p,k)}function In(t,n,r){t=(t=+t)>-1?t:0;var o=-1,i=Ln(t);for(n=e.createCallback(n,r,1);t>++o;)i[o]=n(o);return i}function Cn(t){return null==t?"":Wn(t).replace(y,z)}function jn(t){var e=++c;return Wn(null==t?"":t)+e}function On(t,e){return e(t),t}function Tn(){return Wn(this.__wrapped__)}function Dn(){return this.__wrapped__}t=t?M.defaults(r.Object(),t,M.pick(r,k)):r;var Ln=t.Array,Un=t.Boolean,Bn=t.Date,Rn=t.Function,Mn=t.Math,Fn=t.Number,qn=t.Object,Pn=t.RegExp,Wn=t.String,Jn=t.TypeError,$n=Ln(),zn=qn(),Hn=t._,Xn=Pn("^"+Wn(zn.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),Vn=Mn.ceil,Gn=t.clearTimeout,Yn=$n.concat,Zn=Mn.floor,Qn=Xn.test(Qn=qn.getPrototypeOf)&&Qn,Kn=zn.hasOwnProperty,tr=$n.push,er=t.setImmediate,nr=t.setTimeout,rr=zn.toString,or=Xn.test(or=rr.bind)&&or,ir=Xn.test(ir=Ln.isArray)&&ir,ar=t.isFinite,ur=t.isNaN,sr=Xn.test(sr=qn.keys)&&sr,cr=Mn.max,fr=Mn.min,lr=t.parseInt,pr=Mn.random,hr=$n.slice,dr=Xn.test(t.attachEvent),gr=or&&!/\n|true/.test(or+dr),yr={};yr[A]=Ln,yr[I]=Un,yr[C]=Bn,yr[T]=qn,yr[O]=Fn,yr[D]=Pn,yr[L]=Wn;var vr=e.support={};vr.fastBind=or&&!gr,e.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:b,variable:"",imports:{_:e}},P.prototype=e.prototype;var mr=function(t){var e,n=t,r=[];if(!n)return r;if(!B[typeof t])return r;for(e in n)Kn.call(n,e)&&r.push(e);return r},br=sr?function(t){return ue(t)?sr(t):[]}:mr,wr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Er=Q(wr),_r=function(t,n,r){var o,i=t,a=i;if(!i)return a;var u=arguments,s=0,c="number"==typeof r?2:u.length;if(c>3&&"function"==typeof u[c-2])var f=e.createCallback(u[--c-1],u[c--],2);else c>2&&"function"==typeof u[c-1]&&(f=u[--c]);for(;c>++s;)if(i=u[s],i&&B[typeof i]){var l=i.length;if(o=-1,K(i))for(;l>++o;)a[o]=f?f(a[o],i[o]):i[o];else for(var p=-1,h=B[typeof i]?br(i):[],l=h.length;l>++p;)o=h[p],a[o]=f?f(a[o],i[o]):i[o]}return a},xr=function(t,e,n){var r,o=t,a=o;if(!o)return a;for(var u=arguments,s=0,c="number"==typeof n?2:u.length;c>++s;)if(o=u[s],o&&B[typeof o]){var f=o.length;if(r=-1,K(o))for(;f>++r;)a[r]===i&&(a[r]=o[r]);else for(var l=-1,p=B[typeof o]?br(o):[],f=p.length;f>++l;)r=p[l],a[r]===i&&(a[r]=o[r])}return a},kr=function(t,n,r){var o,a=t,u=a;if(!a)return u;if(!B[typeof a])return u;n=n&&r===i?n:e.createCallback(n,r);for(o in a)if(n(a[o],o,t)===!1)return u;return u},Nr=function(t,n,r){var o,a=t,u=a;if(!a)return u;if(!B[typeof a])return u;n=n&&r===i?n:e.createCallback(n,r);for(var s=-1,c=B[typeof a]?br(a):[],f=c.length;f>++s;)if(o=c[s],n(a[o],o,t)===!1)return u;return u},Sr=function(t){if(!t||rr.call(t)!=T)return!1;var e=t.valueOf,n="function"==typeof e&&(n=Qn(e))&&Qn(n);return n?t==n||Qn(t)==n:J(t)},Ar=xe;gr&&u&&"function"==typeof er&&(hn=un(er,t));var Ir=8==lr("08")?lr:function(t,e){return lr(pe(t)?t.replace(w,""):t,e||0)};return e.after=an,e.assign=_r,e.at=be,e.bind=un,e.bindAll=sn,e.bindKey=cn,e.compact=qe,e.compose=fn,e.countBy=Ee,e.createCallback=ln,e.debounce=pn,e.defaults=xr,e.defer=hn,e.delay=dn,e.difference=Pe,e.filter=xe,e.flatten=$e,e.forEach=Ne,e.forIn=kr,e.forOwn=Nr,e.functions=Y,e.groupBy=Se,e.initial=He,e.intersection=Xe,e.invert=Q,e.invoke=Ae,e.keys=br,e.map=Ie,e.max=Ce,e.memoize=gn,e.merge=de,e.min=je,e.omit=ge,e.once=yn,e.pairs=ye,e.partial=vn,e.partialRight=mn,e.pick=ve,e.pluck=Oe,e.range=Ye,e.reject=Le,e.rest=Ze,e.shuffle=Ue,e.sortBy=Me,e.tap=On,e.throttle=bn,e.times=In,e.toArray=Fe,e.union=Ke,e.uniq=tn,e.unzip=en,e.values=me,e.where=Ar,e.without=nn,e.wrap=wn,e.zip=rn,e.zipObject=on,e.collect=Ie,e.drop=Ze,e.each=Ne,e.extend=_r,e.methods=Y,e.object=on,e.select=xe,e.tail=Ze,e.unique=tn,xn(e),e.clone=X,e.cloneDeep=V,e.contains=we,e.escape=En,e.every=_e,e.find=ke,e.findIndex=We,e.findKey=G,e.has=Z,e.identity=_n,e.indexOf=ze,e.isArguments=H,e.isArray=K,e.isBoolean=te,e.isDate=ee,e.isElement=ne,e.isEmpty=re,e.isEqual=oe,e.isFinite=ie,e.isFunction=ae,e.isNaN=se,e.isNull=ce,e.isNumber=fe,e.isObject=ue,e.isPlainObject=Sr,e.isRegExp=le,e.isString=pe,e.isUndefined=he,e.lastIndexOf=Ge,e.mixin=xn,e.noConflict=kn,e.parseInt=Ir,e.random=Nn,e.reduce=Te,e.reduceRight=De,e.result=Sn,e.runInContext=o,e.size=Be,e.some=Re,e.sortedIndex=Qe,e.template=An,e.unescape=Cn,e.uniqueId=jn,e.all=_e,e.any=Re,e.detect=ke,e.foldl=Te,e.foldr=De,e.include=we,e.inject=Te,Nr(e,function(t,n){e.prototype[n]||(e.prototype[n]=function(){var n=[this.__wrapped__];return tr.apply(n,arguments),t.apply(e,n)})}),e.first=Je,e.last=Ve,e.take=Je,e.head=Je,Nr(e,function(t,n){e.prototype[n]||(e.prototype[n]=function(e,n){var r=t(this.__wrapped__,e,n);return null==e||n&&"function"!=typeof e?r:new P(r)})}),e.VERSION="1.2.0",e.prototype.toString=Tn,e.prototype.value=Dn,e.prototype.valueOf=Dn,Ne(["join","pop","shift"],function(t){var n=$n[t];e.prototype[t]=function(){return n.apply(this.__wrapped__,arguments)}}),Ne(["push","reverse","sort","unshift"],function(t){var n=$n[t];e.prototype[t]=function(){return n.apply(this.__wrapped__,arguments),this}}),Ne(["concat","slice","splice"],function(t){var n=$n[t];e.prototype[t]=function(){return new P(n.apply(this.__wrapped__,arguments))}}),e}var i,a="object"==typeof n&&n,u="object"==typeof e&&e&&e.exports==a&&e,s="object"==typeof t&&t;(s.global===s||s.window===s)&&(r=s);var c=0,f={},l=+new Date+"",p=200,h=/\b__p \+= '';/g,d=/\b(__p \+=) '' \+/g,g=/(__e\(.*?\)|\b__t\)) \+\n'';/g,y=/&(?:amp|lt|gt|quot|#39);/g,v=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,m=/\w*$/,b=/<%=([\s\S]+?)%>/g,w=/^0+(?=.$)/,E=/($^)/,_=/[&<>"']/g,x=/['\n\r\t\u2028\u2029\\]/g,k=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setImmediate","setTimeout"],N=0,S="[object Arguments]",A="[object Array]",I="[object Boolean]",C="[object Date]",j="[object Function]",O="[object Number]",T="[object Object]",D="[object RegExp]",L="[object String]",U={};U[j]=!1,U[S]=U[A]=U[I]=U[C]=U[O]=U[T]=U[D]=U[L]=!0;var B={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},R={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},M=o();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(r._=M,define(function(){return M})):a&&!a.nodeType?u?(u.exports=M)._=M:a._=M:r._=M})(this)})(window)},{}],10:[function(t,e){(function(t){(function(){function n(t){var e=!1;return function(){if(e)throw Error("Callback was already called.");e=!0,t.apply(r,arguments)}}var r,o,i={};r=this,null!=r&&(o=r.async),i.noConflict=function(){return r.async=o,i};var a=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;t.length>n;n+=1)e(t[n],n,t)},u=function(t,e){if(t.map)return t.map(e);var n=[];return a(t,function(t,r,o){n.push(e(t,r,o))}),n},s=function(t,e,n){return t.reduce?t.reduce(e,n):(a(t,function(t,r,o){n=e(n,t,r,o)}),n)},c=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};void 0!==t&&t.nextTick?(i.nextTick=t.nextTick,i.setImmediate="undefined"!=typeof setImmediate?setImmediate:i.nextTick):"function"==typeof setImmediate?(i.setImmediate=setImmediate,i.nextTick=setImmediate):(i.setImmediate=i.nextTick,i.nextTick=function(t){setTimeout(t,0)}),i.each=function(t,e,r){if(r=r||function(){},!t.length)return r();var o=0;a(t,function(i){e(i,n(function(e){e?(r(e),r=function(){}):(o+=1,o>=t.length&&r(null))}))})},i.forEach=i.each,i.eachSeries=function(t,e,n){if(n=n||function(){},!t.length)return n();var r=0,o=function(){e(t[r],function(e){e?(n(e),n=function(){}):(r+=1,r>=t.length?n(null):o())})};o()},i.forEachSeries=i.eachSeries,i.eachLimit=function(t,e,n,r){var o=f(e);o.apply(null,[t,n,r])},i.forEachLimit=i.eachLimit;var f=function(t){return function(e,n,r){if(r=r||function(){},!e.length||0>=t)return r();var o=0,i=0,a=0;(function u(){if(o>=e.length)return r();for(;t>a&&e.length>i;)i+=1,a+=1,n(e[i-1],function(t){t?(r(t),r=function(){}):(o+=1,a-=1,o>=e.length?r():u())})})()}},l=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[i.each].concat(e))}},p=function(t,e){return function(){var n=Array.prototype.slice.call(arguments);return e.apply(null,[f(t)].concat(n))}},h=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[i.eachSeries].concat(e))}},d=function(t,e,n,r){var o=[];e=u(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n,r){o[t.index]=r,e(n)})},function(t){r(t,o)})};i.map=l(d),i.mapSeries=h(d),i.mapLimit=function(t,e,n,r){return g(e)(t,n,r)};var g=function(t){return p(t,d)};i.reduce=function(t,e,n,r){i.eachSeries(t,function(t,r){n(e,t,function(t,n){e=n,r(t)})},function(t){r(t,e)})},i.inject=i.reduce,i.foldl=i.reduce,i.reduceRight=function(t,e,n,r){var o=u(t,function(t){return t}).reverse();i.reduce(o,e,n,r)},i.foldr=i.reduceRight;var y=function(t,e,n,r){var o=[];e=u(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n&&o.push(t),e()})},function(){r(u(o.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};i.filter=l(y),i.filterSeries=h(y),i.select=i.filter,i.selectSeries=i.filterSeries;var v=function(t,e,n,r){var o=[];e=u(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n||o.push(t),e()})},function(){r(u(o.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};i.reject=l(v),i.rejectSeries=h(v);var m=function(t,e,n,r){t(e,function(t,e){n(t,function(n){n?(r(t),r=function(){}):e()})},function(){r()})};i.detect=l(m),i.detectSeries=h(m),i.some=function(t,e,n){i.each(t,function(t,r){e(t,function(t){t&&(n(!0),n=function(){}),r()})},function(){n(!1)})},i.any=i.some,i.every=function(t,e,n){i.each(t,function(t,r){e(t,function(t){t||(n(!1),n=function(){}),r()})},function(){n(!0)})},i.all=i.every,i.sortBy=function(t,e,n){i.map(t,function(t,n){e(t,function(e,r){e?n(e):n(null,{value:t,criteria:r})})},function(t,e){if(t)return n(t);var r=function(t,e){var n=t.criteria,r=e.criteria;return r>n?-1:n>r?1:0};n(null,u(e.sort(r),function(t){return t.value}))})},i.auto=function(t,e){e=e||function(){};var n=c(t);if(!n.length)return e(null);var r={},o=[],u=function(t){o.unshift(t)},f=function(t){for(var e=0;o.length>e;e+=1)if(o[e]===t)return o.splice(e,1),void 0},l=function(){a(o.slice(0),function(t){t()})};u(function(){c(r).length===n.length&&(e(null,r),e=function(){})}),a(n,function(n){var o=t[n]instanceof Function?[t[n]]:t[n],p=function(t){var o=Array.prototype.slice.call(arguments,1);if(1>=o.length&&(o=o[0]),t){var u={};a(c(r),function(t){u[t]=r[t]}),u[n]=o,e(t,u),e=function(){}}else r[n]=o,i.setImmediate(l)},h=o.slice(0,Math.abs(o.length-1))||[],d=function(){return s(h,function(t,e){return t&&r.hasOwnProperty(e)},!0)&&!r.hasOwnProperty(n)};if(d())o[o.length-1](p,r);else{var g=function(){d()&&(f(g),o[o.length-1](p,r))};u(g)}})},i.waterfall=function(t,e){if(e=e||function(){},t.constructor!==Array){var n=Error("First argument to waterfall must be an array of functions");return e(n)}if(!t.length)return e();var r=function(t){return function(n){if(n)e.apply(null,arguments),e=function(){};else{var o=Array.prototype.slice.call(arguments,1),a=t.next();a?o.push(r(a)):o.push(e),i.setImmediate(function(){t.apply(null,o)})}}};r(i.iterator(t))()};var b=function(t,e,n){if(n=n||function(){},e.constructor===Array)t.map(e,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);1>=n.length&&(n=n[0]),e.call(null,t,n)})},n);else{var r={};t.each(c(e),function(t,n){e[t](function(e){var o=Array.prototype.slice.call(arguments,1);1>=o.length&&(o=o[0]),r[t]=o,n(e)})},function(t){n(t,r)})}};i.parallel=function(t,e){b({map:i.map,each:i.each},t,e)},i.parallelLimit=function(t,e,n){b({map:g(e),each:f(e)},t,n)},i.series=function(t,e){if(e=e||function(){},t.constructor===Array)i.mapSeries(t,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);1>=n.length&&(n=n[0]),e.call(null,t,n)})},e);else{var n={};i.eachSeries(c(t),function(e,r){t[e](function(t){var o=Array.prototype.slice.call(arguments,1);1>=o.length&&(o=o[0]),n[e]=o,r(t)})},function(t){e(t,n)})}},i.iterator=function(t){var e=function(n){var r=function(){return t.length&&t[n].apply(null,arguments),r.next()};return r.next=function(){return t.length-1>n?e(n+1):null},r};return e(0)},i.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var w=function(t,e,n,r){var o=[];t(e,function(t,e){n(t,function(t,n){o=o.concat(n||[]),e(t)})},function(t){r(t,o)})};i.concat=l(w),i.concatSeries=h(w),i.whilst=function(t,e,n){t()?e(function(r){return r?n(r):(i.whilst(t,e,n),void 0)}):n()},i.doWhilst=function(t,e,n){t(function(r){return r?n(r):(e()?i.doWhilst(t,e,n):n(),void 0)})},i.until=function(t,e,n){t()?n():e(function(r){return r?n(r):(i.until(t,e,n),void 0)})},i.doUntil=function(t,e,n){t(function(r){return r?n(r):(e()?n():i.doUntil(t,e,n),void 0)})},i.queue=function(t,e){function r(t,n,r,o){n.constructor!==Array&&(n=[n]),a(n,function(n){var a={data:n,callback:"function"==typeof o?o:null};r?t.tasks.unshift(a):t.tasks.push(a),t.saturated&&t.tasks.length===e&&t.saturated(),i.setImmediate(t.process)})}void 0===e&&(e=1);var o=0,u={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,push:function(t,e){r(u,t,!1,e)},unshift:function(t,e){r(u,t,!0,e)},process:function(){if(u.concurrency>o&&u.tasks.length){var e=u.tasks.shift();u.empty&&0===u.tasks.length&&u.empty(),o+=1;var r=function(){o-=1,e.callback&&e.callback.apply(e,arguments),u.drain&&0===u.tasks.length+o&&u.drain(),u.process()},i=n(r);t(e.data,i)}},length:function(){return u.tasks.length},running:function(){return o}};return u},i.cargo=function(t,e){var n=!1,r=[],o={tasks:r,payload:e,saturated:null,empty:null,drain:null,push:function(t,n){t.constructor!==Array&&(t=[t]),a(t,function(t){r.push({data:t,callback:"function"==typeof n?n:null}),o.saturated&&r.length===e&&o.saturated()}),i.setImmediate(o.process)},process:function s(){if(!n){if(0===r.length)return o.drain&&o.drain(),void 0;var i="number"==typeof e?r.splice(0,e):r.splice(0),c=u(i,function(t){return t.data});o.empty&&o.empty(),n=!0,t(c,function(){n=!1;var t=arguments;a(i,function(e){e.callback&&e.callback.apply(null,t)}),s()})}},length:function(){return r.length},running:function(){return n}};return o};var E=function(t){return function(e){var n=Array.prototype.slice.call(arguments,1);e.apply(null,n.concat([function(e){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&a(n,function(e){console[t](e)}))}]))}};i.log=E("log"),i.dir=E("dir"),i.memoize=function(t,e){var n={},r={};e=e||function(t){return t};var o=function(){var o=Array.prototype.slice.call(arguments),i=o.pop(),a=e.apply(null,o);a in n?i.apply(null,n[a]):a in r?r[a].push(i):(r[a]=[i],t.apply(null,o.concat([function(){n[a]=arguments;var t=r[a];delete r[a];for(var e=0,o=t.length;o>e;e++)t[e].apply(null,arguments)}])))};return o.memo=n,o.unmemoized=t,o},i.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},i.times=function(t,e,n){for(var r=[],o=0;t>o;o++)r.push(o);return i.map(r,e,n)},i.timesSeries=function(t,e,n){for(var r=[],o=0;t>o;o++)r.push(o);return i.mapSeries(r,e,n)},i.compose=function(){var t=Array.prototype.reverse.call(arguments);return function(){var e=this,n=Array.prototype.slice.call(arguments),r=n.pop();i.reduce(t,n,function(t,n,r){n.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);r(t,e)}]))},function(t,n){r.apply(e,[t].concat(n))})}};var _=function(t,e){var n=function(){var n=this,r=Array.prototype.slice.call(arguments),o=r.pop();return t(e,function(t,e){t.apply(n,r.concat([e]))},o)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}return n};i.applyEach=l(_),i.applyEachSeries=h(_),i.forever=function(t,e){function n(r){if(r){if(e)return e(r);throw r}t(n)}n()},"undefined"!=typeof define&&define.amd?define([],function(){return i}):e!==void 0&&e.exports?e.exports=i:r.async=i})()})(t("__browserify_process"))},{__browserify_process:1}],7:[function(t,e){function n(){function t(){}var e="/",n=null,a=null;o.each(o.toArray(arguments),function(t){o.isFunction(t)?o.isFunction(t.diggerid)?a=t:n=t:o.isString(t)?(a=i.factory("_supplychain"),e=t):(o.isArray(t)||o.isObject(t))&&(o.isArray(t)||(t=[t]),a=i.factory(t))}),a||(a=i.factory("_supplychain")),n||(n=function(t,e){e.send404()}),a.diggerwarehouse()||a.diggerwarehouse(e);var f="warehouse"==n._diggertype||"supplier"==n._diggertype||"provider"==n._diggertype;return o.extend(t,r.prototype),t.ship=function(t,e){var r=u.factory(function(){r.resolve(function(n){f&&(n=JSON.parse(JSON.stringify(n)));var o=n;"digger/containers"===t.getHeader("x-expect")&&(o=n&&n.length>0?a.spawn(n):a.spawn()),t.emit("shipped",o),e(o,r)})});return f&&o.each(JSON.parse(JSON.stringify(t.toJSON())),function(e,n){t[n]=e}),n(t,r),r},t.listen=function(t,e){return n.switchboard&&n.switchboard.listen(t,e),this},t.broadcast=function(t,e){return n.switchboard&&n.switchboard.broadcast(t,e),this},a.supplychain=t,a.connect=function(e){var n=i.factory("_supplychain");return n.diggerwarehouse(e),n.supplychain=t,n},a.merge=function(e){var n=s(e);return n.supplychain=t,n},a.sequence=function(e){var n=c(e);return n.supplychain=t,n},a}var r=t("events").EventEmitter,o=t("lodash"),i=t("../container/proto"),a=t("../network/contract"),u=t("../network/response"),s=a.mergefactory,c=a.sequencefactory;e.exports=n},{events:2,"../container/proto":8,"../network/contract":11,"../network/response":12,lodash:9}],8:[function(t,e){function n(t,e){return s(t,e)}function r(t,e,n){a.each(t,function(t){s(t,e,n)})}function o(t,e){e=e||{},a.isString(e)&&(e={leaf:e});var o=e.leaf,i=o?(t?t+".":"")+o:t||"";return i=i.replace(/^\./,""),function(){var e=this;return 0>=arguments.length?n(this.models[0],i):1==arguments.length&&a.isString(arguments[0])&&!o?n(this.models[0],[t,arguments[0]].join(".")):1==arguments.length?(r(this.models,i,arguments[0],this._silent),e):arguments.length>1?(r(this.models,[i,arguments[0]].join("."),arguments[1],this._silent),e):void 0}}function i(t){return function(e){var n=this;return 0>=arguments.length?this:(a.isArray(e)||(e=[e]),a.each(e,function(e){n[t](e,null)}),this)}}var a=t("lodash"),u=t("events").EventEmitter,s=t("./deepdot");t("async");var c=t("../utils"),f=t("./models"),l=t("./search"),p=t("./contracts"),h=e.exports=function h(){};h.factory=function(){var t=f.apply(null,a.toArray(arguments)),e=function(){return e.select.apply(e,a.toArray(arguments))};return a.extend(e,h.prototype),a.extend(e,u.prototype),e.build(t),e},h.prototype.build=function(t){this.models=t},h.prototype.toJSON=function(){return this.models},h.prototype.toXML=function(){return f.toXML(this.models)},h.prototype.ensure_meta=function(){this.diggerid()||this.diggerid(c.diggerid());var t=0;return 0>=this.diggerpath().length&&(this.inject_paths([t]),t++),this.ensure_parent_ids(),this},h.prototype.ensure_parent_ids=function(t){var e=this;t&&this.diggerparentid(t.diggerid()),this.children().each(function(t){t.ensure_parent_ids(e)})},h.prototype.inject_paths=function(t){this.diggerpath(t),this.children().each(function(e,n){e.inject_paths(t.concat([n]))})},h.prototype.spawn=function(t){t=t||[];var e=h.factory(t);return e.supplychain=this.supplychain,e},h.prototype.clone=function(){var t=JSON.parse(JSON.stringify(this.models)),e=this.spawn(t);return e.recurse(function(t){t.diggerid(c.diggerid())}),e.ensure_parent_ids(),e},h.prototype.children=function(){var t=[];return this.each(function(e){t=t.concat(e.get(0)._children)}),this.spawn(t)},h.prototype.recurse=function(t){return this.descendents().each(t),this},h.prototype.descendents=function(){function t(n){e=e.concat(n.models),n.children().each(t)}var e=[];return t(this),this.spawn(e)},h.prototype.containers=function(){var t=this;return a.map(this.models,function(e){return t.spawn([e])})},h.prototype.skeleton=function(){return a.map(this.models,function(t){return t._digger||{}})},h.prototype.add=function(t){var e=this;return a.isArray(t)?a.each(t,function(t){e.add(t)}):this.models=this.models.concat(t.models),this},h.prototype.each=function(t){return a.each(this.containers(),t),this},h.prototype.map=function(t){return a.map(this.containers(),t)},h.prototype.count=function(){return this.models.length},h.prototype.first=function(){return this.eq(0)},h.prototype.last=function(){return this.eq(this.count()-1)},h.prototype.eq=function(t){return this.spawn(this.get(t))},h.prototype.get=function(t){return this.models[t]},h.prototype.attr=o(),h.prototype.removeAttr=i(),h.prototype.digger=o("_digger"),h.prototype.meta=o("_digger"),h.prototype.removeMeta=i("_digger"),h.prototype.data=o("_data"),h.prototype.removeData=i("_data"),h.prototype.diggerid=o("_digger","diggerid"),h.prototype.diggerparentid=o("_digger","diggerparentid"),h.prototype.diggerwarehouse=o("_digger","diggerwarehouse");var d=o("_digger","diggerpath");h.prototype.diggerpath=function(){var t=d.apply(this,a.toArray(arguments));return a.isArray(t)||(t=[]),t};var g=o("_digger","diggerbranch");h.prototype.diggerbranch=function(){var t=g.apply(this,a.toArray(arguments));return a.isArray(t)||(t=[]),t},h.prototype.branchto=function(t){var e=this.diggerbranch();return t.each(function(t){e.push(t.diggerurl())}),this.diggerbranch(e),this},h.prototype.diggerurl=function(){var t=this.diggerwarehouse(),e=this.diggerid(),n=t;return e&&"_supplychain"!=this.tag()&&("/"!=t&&(n+="/"),n+=e),n},h.prototype.id=o("_digger","id"),h.prototype.tag=o("_digger","tag"),h.prototype.classnames=o("_digger","class"),h.prototype.addClass=function(t){return a.each(this.models,function(e){e._digger.class.push(t),e._digger.class=a.uniq(e._digger.class)}),this},h.prototype.removeClass=function(t){return a.each(this.models,function(e){e._digger.class=a.without(e._digger.class,t)}),this},h.prototype.hasClass=function(t){return a.contains(this.classnames()||[],t)},h.prototype.hasAttr=function(t){return!a.isEmpty(this.attr(t))},h.prototype.summary=function(t){t=t||{};var e=[],n=this.attr("name")||this.attr("title")||"";n.length>0&&t.title!==!1&&e.push(n+": "),e.push(this.tag());var r=this.id()||"";r.length>0&&e.push("#"+r);var o=this.classnames()||[];return o.length>0&&(e=e.concat(a.map(o,function(t){return"."+t}))),e.join("")},h.prototype.toString=function(){return this.summary()},h.prototype.find=l.find,h.prototype.sort=l.sort,h.prototype.filter=l.filter,h.prototype.match=l.match,h.prototype.bindcontract=p.bindcontract,h.prototype.select=p.select,h.prototype.append=p.append,h.prototype.save=p.save,h.prototype.remove=p.remove},{events:2,"./deepdot":13,"../utils":14,"./models":15,"./contracts":16,"./search":17,lodash:9,async:10}],14:[function(t,e){(function(){function n(){var t,e,r,o,i,a,u=arguments[0]||{},s=1,c=arguments.length,f=!0,l=Object.prototype.toString,p=Object.prototype.hasOwnProperty,h=(Array.prototype.push,Array.prototype.slice,String.prototype.trim,Array.prototype.indexOf,{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"}),d={isFunction:function(t){return"function"===d.type(t)},isArray:Array.isArray||function(t){return"array"===d.type(t)},isWindow:function(t){return null!==t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null===t?t+"":h[l.call(t)]||"object"},isPlainObject:function(t){if(!t||"object"!==d.type(t)||t.nodeType)return!1;try{if(t.constructor&&!p.call(t,"constructor")&&!p.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var n;for(n in t);return void 0===n||p.call(t,n)}};for("boolean"==typeof u&&(f=u,u=arguments[1]||{},s=2),"object"==typeof u||d.isFunction(u)||(u={}),c===s&&(u=this,--s),s;c>s;s++)if(null!==(t=arguments[s]))for(e in t)r=u[e],o=t[e],u!==o&&(f&&o&&(d.isPlainObject(o)||(i=d.isArray(o)))?(i?(i=!1,a=r&&d.isArray(r)?r:[]):a=r&&d.isPlainObject(r)?r:{},u[e]=n(f,a,o)):void 0!==o&&(u[e]=o));return u}var r=t("lodash"),o=t("url"),i=t("node-uuid"),a=e.exports={};a.diggerid=function(){return i.v1().replace(/-/g,"")},a.littleid=function(){var t="xxxxxx";return t.replace(/[xy]/g,function(t){var e=0|16*Math.random(),n="x"==t?e:8|3&e;return n.toString(16)})},a.escapeRegexp=function(t){return t.replace(/([\!\$\(\)\*\+\.\/\:\=\?\[\\\]\^\{\|\}])/g,"\\$1")},a.escape=function(t){return(t+"").replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},a.parseUrl=function(t){var e=t._parsedUrl;return e&&e.href==t.url?e:t._parsedUrl=o.parse(t.url)},a.makeroute=function(t,e){var n=r.filter(t||[],function(t){return r.isNumber(t)||!r.isEmpty(t)}).join("/");return e&&(n=n.replace(/\//g,e),0===n.indexOf(e)&&(n=n.substr(1))),n.replace(/\/\//g,"/")},a.extend=n})()},{url:3,lodash:9,"node-uuid":18}],11:[function(t,e){function n(t){t=t||{},o.isString(t)&&(t={headers:{"x-contract-type":t}}),a.apply(this,[t]),this.setHeader("content-type","digger/contract"),this.getHeader("x-contract-type")||this.setHeader("x-contract-type","merge"),this.getHeader("x-contract-id")||this.setHeader("x-contract-id",i.diggerid()),this.body||(this.body=[])}var r=t("util");t("./message"),t("url");var o=t("lodash"),i=t("../utils"),a=t("./request");t("./response"),e.exports=n,r.inherits(n,a),n.factory=function(t){return new n(t)},n.mergefactory=function(t){var e=n.factory("merge");return e.url="reception:/",e.method="post",e.body=o.map(t,function(t){return t.toJSON()}),e},n.sequencefactory=function(t){var e=n.factory("sequence");return e.url="reception:/",e.method="post",e.body=o.map(t,function(t){return t.toJSON()}),e},n.prototype.add=function(t){var e=this;return o.isArray(t)?o.each(t,function(t){e.add(t)}):o.isFunction(t.toJSON)&&(t.getHeader("x-contract-type")==this.getHeader("x-contract-type")?this.body=this.body.concat(t.body):this.body.push(t.toJSON())),this},n.prototype.ship=function(t){if(!this.supplychain)throw Error("contract has not been given a supply chain to ship with");return this.supplychain.ship(this,t)}},{util:5,url:3,"../utils":14,"./response":12,"./message":19,"./request":20,lodash:9}],21:[function(t,e){t=function(t,e,n,r){function o(r){if(!n[r]){if(!e[r]){if(t)return t(r);throw Error("Cannot find module '"+r+"'")}var i=n[r]={exports:{}};e[r][0](function(t){var n=e[r][1][t];return o(n?n:t)},i,i.exports)}return n[r].exports}for(var i=0;r.length>i;i++)o(r[i]);return o}(t!==void 0&&t,{1:[function(t,e,n){n.readIEEE754=function(t,e,n,r,o){var i,a,u=8*o-r-1,s=(1<<u)-1,c=s>>1,f=-7,l=n?0:o-1,p=n?1:-1,h=t[e+l];for(l+=p,i=h&(1<<-f)-1,h>>=-f,f+=u;f>0;i=256*i+t[e+l],l+=p,f-=8);for(a=i&(1<<-f)-1,i>>=-f,f+=r;f>0;a=256*a+t[e+l],l+=p,f-=8);if(0===i)i=1-c;else{if(i===s)return a?0/0:1/0*(h?-1:1);a+=Math.pow(2,r),i-=c}return(h?-1:1)*a*Math.pow(2,i-r)},n.writeIEEE754=function(t,e,n,r,o,i){var a,u,s,c=8*i-o-1,f=(1<<c)-1,l=f>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?i-1:0,d=r?-1:1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(u=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),1>e*(s=Math.pow(2,-a))&&(a--,s*=2),e+=a+l>=1?p/s:p*Math.pow(2,1-l),e*s>=2&&(a++,s/=2),a+l>=f?(u=0,a=f):a+l>=1?(u=(e*s-1)*Math.pow(2,o),a+=l):(u=e*Math.pow(2,l-1)*Math.pow(2,o),a=0));o>=8;t[n+h]=255&u,h+=d,u/=256,o-=8);for(a=a<<o|u,c+=o;c>0;t[n+h]=255&a,h+=d,a/=256,c-=8);t[n+h-d]|=128*g}},{}],2:[function(t,e){(function(){function n(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}function r(t,e){return void 0===e?""+e:"number"!=typeof e||!isNaN(e)&&isFinite(e)?"function"==typeof e||e instanceof RegExp?""+e:e:""+e}function o(t,e){return"string"==typeof t?e>t.length?t:t.slice(0,e):t}function i(t,e,n,r,o){throw new y.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:o})}function a(t,e){t||i(t,!0,e,"==",y.ok)}function u(t,e){if(t===e)return!0;if(d.isBuffer(t)&&d.isBuffer(e)){if(t.length!=e.length)return!1;for(var n=0;t.length>n;n++)if(t[n]!==e[n])return!1;return!0}return t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():"object"!=typeof t&&"object"!=typeof e?t==e:f(t,e)}function s(t){return null===t||void 0===t}function c(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function f(t,e){if(s(t)||s(e))return!1;if(t.prototype!==e.prototype)return!1;if(c(t))return c(e)?(t=g.call(t),e=g.call(e),u(t,e)):!1;try{var r,o,i=n(t),a=n(e)}catch(f){return!1}if(i.length!=a.length)return!1;for(i.sort(),a.sort(),o=i.length-1;o>=0;o--)if(i[o]!=a[o])return!1;for(o=i.length-1;o>=0;o--)if(r=i[o],!u(t[r],e[r]))return!1;return!0}function l(t,e){return t&&e?e instanceof RegExp?e.test(t):t instanceof e?!0:e.call({},t)===!0?!0:!1:!1}function p(t,e,n,r){var o;"string"==typeof n&&(r=n,n=null);try{e()}catch(a){o=a}if(r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!o&&i("Missing expected exception"+r),!t&&l(o,n)&&i("Got unwanted exception"+r),t&&o&&n&&!l(o,n)||!t&&o)throw o}var h=t("util"),d=t("buffer").Buffer,g=Array.prototype.slice,y=e.exports=a;y.AssertionError=function(t){this.name="AssertionError",this.message=t.message,this.actual=t.actual,this.expected=t.expected,this.operator=t.operator;var e=t.stackStartFunction||i;Error.captureStackTrace&&Error.captureStackTrace(this,e)},h.inherits(y.AssertionError,Error),y.AssertionError.prototype.toString=function(){return this.message?[this.name+":",this.message].join(" "):[this.name+":",o(JSON.stringify(this.actual,r),128),this.operator,o(JSON.stringify(this.expected,r),128)].join(" ")},y.AssertionError.__proto__=Error.prototype,y.fail=i,y.ok=a,y.equal=function(t,e,n){t!=e&&i(t,e,n,"==",y.equal)},y.notEqual=function(t,e,n){t==e&&i(t,e,n,"!=",y.notEqual)},y.deepEqual=function(t,e,n){u(t,e)||i(t,e,n,"deepEqual",y.deepEqual)},y.notDeepEqual=function(t,e,n){u(t,e)&&i(t,e,n,"notDeepEqual",y.notDeepEqual)},y.strictEqual=function(t,e,n){t!==e&&i(t,e,n,"===",y.strictEqual)},y.notStrictEqual=function(t,e,n){t===e&&i(t,e,n,"!==",y.notStrictEqual)},y.throws=function(){p.apply(this,[!0].concat(g.call(arguments)))},y.doesNotThrow=function(){p.apply(this,[!1].concat(g.call(arguments)))},y.ifError=function(t){if(t)throw t}})()},{util:3,buffer:4}],"buffer-browserify":[function(t,e){e.exports=t("q9TxCC")},{}],q9TxCC:[function(t,e,n){(function(){function e(t){this.length=t}function r(t){return 16>t?"0"+t.toString(16):t.toString(16)}function o(t){for(var e=[],n=0;t.length>n;n++)if(127>=t.charCodeAt(n))e.push(t.charCodeAt(n));else for(var r=encodeURIComponent(t.charAt(n)).substr(1).split("%"),o=0;r.length>o;o++)e.push(parseInt(r[o],16));return e}function i(t){for(var e=[],n=0;t.length>n;n++)e.push(255&t.charCodeAt(n));return e}function a(e){return t("base64-js").toByteArray(e)}function u(t,e,n,r){for(var o=0;r>o&&!(o+n>=e.length||o>=t.length);)e[o+n]=t[o],o++;
return o}function s(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}function c(t){return t=~~Math.ceil(+t),0>t?0:t}function f(t,n,r){if(!(this instanceof f))return new f(t,n,r);var o;if("number"==typeof r)this.length=c(n),this.parent=t,this.offset=r;else{switch(o=typeof t){case"number":this.length=c(t);break;case"string":this.length=f.byteLength(t,n);break;case"object":this.length=c(t.length);break;default:throw Error("First argument needs to be a number, array or string.")}if(this.length>f.poolSize?(this.parent=new e(this.length),this.offset=0):((!C||C.length-C.used<this.length)&&p(),this.parent=C,this.offset=C.used,C.used+=this.length),l(t))for(var i=0;this.length>i;i++)this.parent[i+this.offset]=t instanceof f?t.readUInt8(i):t[i];else"string"==o&&(this.length=this.write(t,0,n))}}function l(t){return Array.isArray(t)||f.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function p(){C=new e(f.poolSize),C.used=0}function h(t,e,n,r){var o=0;return r||(I.ok("boolean"==typeof n,"missing or invalid endian"),I.ok(void 0!==e&&null!==e,"missing offset"),I.ok(t.length>e+1,"Trying to read beyond buffer length")),e>=t.length?0:(n?(o=t.parent[t.offset+e]<<8,t.length>e+1&&(o|=t.parent[t.offset+e+1])):(o=t.parent[t.offset+e],t.length>e+1&&(o|=t.parent[t.offset+e+1]<<8)),o)}function d(t,e,n,r){var o=0;return r||(I.ok("boolean"==typeof n,"missing or invalid endian"),I.ok(void 0!==e&&null!==e,"missing offset"),I.ok(t.length>e+3,"Trying to read beyond buffer length")),e>=t.length?0:(n?(t.length>e+1&&(o=t.parent[t.offset+e+1]<<16),t.length>e+2&&(o|=t.parent[t.offset+e+2]<<8),t.length>e+3&&(o|=t.parent[t.offset+e+3]),o+=t.parent[t.offset+e]<<24>>>0):(t.length>e+2&&(o=t.parent[t.offset+e+2]<<16),t.length>e+1&&(o|=t.parent[t.offset+e+1]<<8),o|=t.parent[t.offset+e],t.length>e+3&&(o+=t.parent[t.offset+e+3]<<24>>>0)),o)}function g(t,e,n,r){var o,i;return r||(I.ok("boolean"==typeof n,"missing or invalid endian"),I.ok(void 0!==e&&null!==e,"missing offset"),I.ok(t.length>e+1,"Trying to read beyond buffer length")),i=h(t,e,n,r),o=32768&i,o?-1*(65535-i+1):i}function y(t,e,n,r){var o,i;return r||(I.ok("boolean"==typeof n,"missing or invalid endian"),I.ok(void 0!==e&&null!==e,"missing offset"),I.ok(t.length>e+3,"Trying to read beyond buffer length")),i=d(t,e,n,r),o=2147483648&i,o?-1*(4294967295-i+1):i}function v(e,n,r,o){return o||(I.ok("boolean"==typeof r,"missing or invalid endian"),I.ok(e.length>n+3,"Trying to read beyond buffer length")),t("./buffer_ieee754").readIEEE754(e,n,r,23,4)}function m(e,n,r,o){return o||(I.ok("boolean"==typeof r,"missing or invalid endian"),I.ok(e.length>n+7,"Trying to read beyond buffer length")),t("./buffer_ieee754").readIEEE754(e,n,r,52,8)}function b(t,e){I.ok("number"==typeof t,"cannot write a non-number as a number"),I.ok(t>=0,"specified a negative value for writing an unsigned value"),I.ok(e>=t,"value is larger than maximum value for type"),I.ok(Math.floor(t)===t,"value has a fractional component")}function w(t,e,n,r,o){o||(I.ok(void 0!==e&&null!==e,"missing value"),I.ok("boolean"==typeof r,"missing or invalid endian"),I.ok(void 0!==n&&null!==n,"missing offset"),I.ok(t.length>n+1,"trying to write beyond buffer length"),b(e,65535));for(var i=0;Math.min(t.length-n,2)>i;i++)t.parent[t.offset+n+i]=(e&255<<8*(r?1-i:i))>>>8*(r?1-i:i)}function E(t,e,n,r,o){o||(I.ok(void 0!==e&&null!==e,"missing value"),I.ok("boolean"==typeof r,"missing or invalid endian"),I.ok(void 0!==n&&null!==n,"missing offset"),I.ok(t.length>n+3,"trying to write beyond buffer length"),b(e,4294967295));for(var i=0;Math.min(t.length-n,4)>i;i++)t.parent[t.offset+n+i]=255&e>>>8*(r?3-i:i)}function _(t,e,n){I.ok("number"==typeof t,"cannot write a non-number as a number"),I.ok(e>=t,"value larger than maximum allowed value"),I.ok(t>=n,"value smaller than minimum allowed value"),I.ok(Math.floor(t)===t,"value has a fractional component")}function x(t,e,n){I.ok("number"==typeof t,"cannot write a non-number as a number"),I.ok(e>=t,"value larger than maximum allowed value"),I.ok(t>=n,"value smaller than minimum allowed value")}function k(t,e,n,r,o){o||(I.ok(void 0!==e&&null!==e,"missing value"),I.ok("boolean"==typeof r,"missing or invalid endian"),I.ok(void 0!==n&&null!==n,"missing offset"),I.ok(t.length>n+1,"Trying to write beyond buffer length"),_(e,32767,-32768)),e>=0?w(t,e,n,r,o):w(t,65535+e+1,n,r,o)}function N(t,e,n,r,o){o||(I.ok(void 0!==e&&null!==e,"missing value"),I.ok("boolean"==typeof r,"missing or invalid endian"),I.ok(void 0!==n&&null!==n,"missing offset"),I.ok(t.length>n+3,"Trying to write beyond buffer length"),_(e,2147483647,-2147483648)),e>=0?E(t,e,n,r,o):E(t,4294967295+e+1,n,r,o)}function S(e,n,r,o,i){i||(I.ok(void 0!==n&&null!==n,"missing value"),I.ok("boolean"==typeof o,"missing or invalid endian"),I.ok(void 0!==r&&null!==r,"missing offset"),I.ok(e.length>r+3,"Trying to write beyond buffer length"),x(n,3.4028234663852886e38,-3.4028234663852886e38)),t("./buffer_ieee754").writeIEEE754(e,n,r,o,23,4)}function A(e,n,r,o,i){i||(I.ok(void 0!==n&&null!==n,"missing value"),I.ok("boolean"==typeof o,"missing or invalid endian"),I.ok(void 0!==r&&null!==r,"missing offset"),I.ok(e.length>r+7,"Trying to write beyond buffer length"),x(n,1.7976931348623157e308,-1.7976931348623157e308)),t("./buffer_ieee754").writeIEEE754(e,n,r,o,52,8)}var I=t("assert");n.INSPECT_MAX_BYTES=50,e.byteLength=function(t,e){switch(e||"utf8"){case"hex":return t.length/2;case"utf8":case"utf-8":return o(t).length;case"ascii":case"binary":return t.length;case"base64":return a(t).length;default:throw Error("Unknown encoding")}},e.prototype.utf8Write=function(t,n,r){return e._charsWritten=u(o(t),this,n,r)},e.prototype.asciiWrite=function(t,n,r){return e._charsWritten=u(i(t),this,n,r)},e.prototype.binaryWrite=e.prototype.asciiWrite,e.prototype.base64Write=function(t,n,r){return e._charsWritten=u(a(t),this,n,r)},e.prototype.base64Slice=function(){var e=Array.prototype.slice.apply(this,arguments);return t("base64-js").fromByteArray(e)},e.prototype.utf8Slice=function(){for(var t=Array.prototype.slice.apply(this,arguments),e="",n="",r=0;t.length>r;)127>=t[r]?(e+=s(n)+String.fromCharCode(t[r]),n=""):n+="%"+t[r].toString(16),r++;return e+s(n)},e.prototype.asciiSlice=function(){for(var t=Array.prototype.slice.apply(this,arguments),e="",n=0;t.length>n;n++)e+=String.fromCharCode(t[n]);return e},e.prototype.binarySlice=e.prototype.asciiSlice,e.prototype.inspect=function(){for(var t=[],e=this.length,o=0;e>o;o++)if(t[o]=r(this[o]),o==n.INSPECT_MAX_BYTES){t[o+1]="...";break}return"<SlowBuffer "+t.join(" ")+">"},e.prototype.hexSlice=function(t,e){var n=this.length;(!t||0>t)&&(t=0),(!e||0>e||e>n)&&(e=n);for(var o="",i=t;e>i;i++)o+=r(this[i]);return o},e.prototype.toString=function(t,e,n){if(t=((t||"utf8")+"").toLowerCase(),e=+e||0,n===void 0&&(n=this.length),+n==e)return"";switch(t){case"hex":return this.hexSlice(e,n);case"utf8":case"utf-8":return this.utf8Slice(e,n);case"ascii":return this.asciiSlice(e,n);case"binary":return this.binarySlice(e,n);case"base64":return this.base64Slice(e,n);case"ucs2":case"ucs-2":return this.ucs2Slice(e,n);default:throw Error("Unknown encoding")}},e.prototype.hexWrite=function(t,n,r){n=+n||0;var o=this.length-n;r?(r=+r,r>o&&(r=o)):r=o;var i=t.length;if(i%2)throw Error("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;r>a;a++){var u=parseInt(t.substr(2*a,2),16);if(isNaN(u))throw Error("Invalid hex string");this[n+a]=u}return e._charsWritten=2*a,a},e.prototype.write=function(t,e,n,r){if(isFinite(e))isFinite(n)||(r=n,n=void 0);else{var o=r;r=e,e=n,n=o}e=+e||0;var i=this.length-e;switch(n?(n=+n,n>i&&(n=i)):n=i,r=((r||"utf8")+"").toLowerCase()){case"hex":return this.hexWrite(t,e,n);case"utf8":case"utf-8":return this.utf8Write(t,e,n);case"ascii":return this.asciiWrite(t,e,n);case"binary":return this.binaryWrite(t,e,n);case"base64":return this.base64Write(t,e,n);case"ucs2":case"ucs-2":return this.ucs2Write(t,e,n);default:throw Error("Unknown encoding")}},e.prototype.slice=function(t,e){if(void 0===e&&(e=this.length),e>this.length)throw Error("oob");if(t>e)throw Error("oob");return new f(this,e-t,+t)},e.prototype.copy=function(t,e,n,r){for(var o=[],i=n;r>i;i++)I.ok(this[i]!==void 0,"copying undefined buffer bytes!"),o.push(this[i]);for(var i=e;e+o.length>i;i++)t[i]=o[i-e]},e.prototype.fill=function(t,e,n){if(n>this.length)throw Error("oob");if(e>n)throw Error("oob");for(var r=e;n>r;r++)this[r]=t},n.SlowBuffer=e,n.Buffer=f,f.poolSize=8192;var C;f.isBuffer=function(t){return t instanceof f||t instanceof e},f.concat=function(t,e){if(!Array.isArray(t))throw Error("Usage: Buffer.concat(list, [totalLength])\n       list should be an Array.");if(0===t.length)return new f(0);if(1===t.length)return t[0];if("number"!=typeof e){e=0;for(var n=0;t.length>n;n++){var r=t[n];e+=r.length}}for(var o=new f(e),i=0,n=0;t.length>n;n++){var r=t[n];r.copy(o,i),i+=r.length}return o},f.prototype.inspect=function(){for(var t=[],e=this.length,o=0;e>o;o++)if(t[o]=r(this.parent[o+this.offset]),o==n.INSPECT_MAX_BYTES){t[o+1]="...";break}return"<Buffer "+t.join(" ")+">"},f.prototype.get=function(t){if(0>t||t>=this.length)throw Error("oob");return this.parent[this.offset+t]},f.prototype.set=function(t,e){if(0>t||t>=this.length)throw Error("oob");return this.parent[this.offset+t]=e},f.prototype.write=function(t,n,r,o){if(isFinite(n))isFinite(r)||(o=r,r=void 0);else{var i=o;o=n,n=r,r=i}n=+n||0;var a=this.length-n;r?(r=+r,r>a&&(r=a)):r=a,o=((o||"utf8")+"").toLowerCase();var u;switch(o){case"hex":u=this.parent.hexWrite(t,this.offset+n,r);break;case"utf8":case"utf-8":u=this.parent.utf8Write(t,this.offset+n,r);break;case"ascii":u=this.parent.asciiWrite(t,this.offset+n,r);break;case"binary":u=this.parent.binaryWrite(t,this.offset+n,r);break;case"base64":u=this.parent.base64Write(t,this.offset+n,r);break;case"ucs2":case"ucs-2":u=this.parent.ucs2Write(t,this.offset+n,r);break;default:throw Error("Unknown encoding")}return f._charsWritten=e._charsWritten,u},f.prototype.toString=function(t,e,n){switch(t=((t||"utf8")+"").toLowerCase(),e===void 0||0>e?e=0:e>this.length&&(e=this.length),n===void 0||n>this.length?n=this.length:0>n&&(n=0),e+=this.offset,n+=this.offset,t){case"hex":return this.parent.hexSlice(e,n);case"utf8":case"utf-8":return this.parent.utf8Slice(e,n);case"ascii":return this.parent.asciiSlice(e,n);case"binary":return this.parent.binarySlice(e,n);case"base64":return this.parent.base64Slice(e,n);case"ucs2":case"ucs-2":return this.parent.ucs2Slice(e,n);default:throw Error("Unknown encoding")}},f.byteLength=e.byteLength,f.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),"string"==typeof t&&(t=t.charCodeAt(0)),"number"!=typeof t||isNaN(t))throw Error("value is not a number");if(e>n)throw Error("end < start");if(n===e)return 0;if(0==this.length)return 0;if(0>e||e>=this.length)throw Error("start out of bounds");if(0>n||n>this.length)throw Error("end out of bounds");return this.parent.fill(t,e+this.offset,n+this.offset)},f.prototype.copy=function(t,e,n,r){var o=this;if(n||(n=0),r||(r=this.length),e||(e=0),n>r)throw Error("sourceEnd < sourceStart");if(r===n)return 0;if(0==t.length||0==o.length)return 0;if(0>e||e>=t.length)throw Error("targetStart out of bounds");if(0>n||n>=o.length)throw Error("sourceStart out of bounds");if(0>r||r>o.length)throw Error("sourceEnd out of bounds");return r>this.length&&(r=this.length),r-n>t.length-e&&(r=t.length-e+n),this.parent.copy(t.parent,e+t.offset,n+this.offset,r+this.offset)},f.prototype.slice=function(t,e){if(void 0===e&&(e=this.length),e>this.length)throw Error("oob");if(t>e)throw Error("oob");return new f(this.parent,e-t,+t+this.offset)},f.prototype.utf8Slice=function(t,e){return this.toString("utf8",t,e)},f.prototype.binarySlice=function(t,e){return this.toString("binary",t,e)},f.prototype.asciiSlice=function(t,e){return this.toString("ascii",t,e)},f.prototype.utf8Write=function(t,e){return this.write(t,e,"utf8")},f.prototype.binaryWrite=function(t,e){return this.write(t,e,"binary")},f.prototype.asciiWrite=function(t,e){return this.write(t,e,"ascii")},f.prototype.readUInt8=function(t,e){var n=this;return e||(I.ok(void 0!==t&&null!==t,"missing offset"),I.ok(n.length>t,"Trying to read beyond buffer length")),t>=n.length?void 0:n.parent[n.offset+t]},f.prototype.readUInt16LE=function(t,e){return h(this,t,!1,e)},f.prototype.readUInt16BE=function(t,e){return h(this,t,!0,e)},f.prototype.readUInt32LE=function(t,e){return d(this,t,!1,e)},f.prototype.readUInt32BE=function(t,e){return d(this,t,!0,e)},f.prototype.readInt8=function(t,e){var n,r=this;return e||(I.ok(void 0!==t&&null!==t,"missing offset"),I.ok(r.length>t,"Trying to read beyond buffer length")),t>=r.length?void 0:(n=128&r.parent[r.offset+t],n?-1*(255-r.parent[r.offset+t]+1):r.parent[r.offset+t])},f.prototype.readInt16LE=function(t,e){return g(this,t,!1,e)},f.prototype.readInt16BE=function(t,e){return g(this,t,!0,e)},f.prototype.readInt32LE=function(t,e){return y(this,t,!1,e)},f.prototype.readInt32BE=function(t,e){return y(this,t,!0,e)},f.prototype.readFloatLE=function(t,e){return v(this,t,!1,e)},f.prototype.readFloatBE=function(t,e){return v(this,t,!0,e)},f.prototype.readDoubleLE=function(t,e){return m(this,t,!1,e)},f.prototype.readDoubleBE=function(t,e){return m(this,t,!0,e)},f.prototype.writeUInt8=function(t,e,n){var r=this;n||(I.ok(void 0!==t&&null!==t,"missing value"),I.ok(void 0!==e&&null!==e,"missing offset"),I.ok(r.length>e,"trying to write beyond buffer length"),b(t,255)),r.length>e&&(r.parent[r.offset+e]=t)},f.prototype.writeUInt16LE=function(t,e,n){w(this,t,e,!1,n)},f.prototype.writeUInt16BE=function(t,e,n){w(this,t,e,!0,n)},f.prototype.writeUInt32LE=function(t,e,n){E(this,t,e,!1,n)},f.prototype.writeUInt32BE=function(t,e,n){E(this,t,e,!0,n)},f.prototype.writeInt8=function(t,e,n){var r=this;n||(I.ok(void 0!==t&&null!==t,"missing value"),I.ok(void 0!==e&&null!==e,"missing offset"),I.ok(r.length>e,"Trying to write beyond buffer length"),_(t,127,-128)),t>=0?r.writeUInt8(t,e,n):r.writeUInt8(255+t+1,e,n)},f.prototype.writeInt16LE=function(t,e,n){k(this,t,e,!1,n)},f.prototype.writeInt16BE=function(t,e,n){k(this,t,e,!0,n)},f.prototype.writeInt32LE=function(t,e,n){N(this,t,e,!1,n)},f.prototype.writeInt32BE=function(t,e,n){N(this,t,e,!0,n)},f.prototype.writeFloatLE=function(t,e,n){S(this,t,e,!1,n)},f.prototype.writeFloatBE=function(t,e,n){S(this,t,e,!0,n)},f.prototype.writeDoubleLE=function(t,e,n){A(this,t,e,!1,n)},f.prototype.writeDoubleBE=function(t,e,n){A(this,t,e,!0,n)},e.prototype.readUInt8=f.prototype.readUInt8,e.prototype.readUInt16LE=f.prototype.readUInt16LE,e.prototype.readUInt16BE=f.prototype.readUInt16BE,e.prototype.readUInt32LE=f.prototype.readUInt32LE,e.prototype.readUInt32BE=f.prototype.readUInt32BE,e.prototype.readInt8=f.prototype.readInt8,e.prototype.readInt16LE=f.prototype.readInt16LE,e.prototype.readInt16BE=f.prototype.readInt16BE,e.prototype.readInt32LE=f.prototype.readInt32LE,e.prototype.readInt32BE=f.prototype.readInt32BE,e.prototype.readFloatLE=f.prototype.readFloatLE,e.prototype.readFloatBE=f.prototype.readFloatBE,e.prototype.readDoubleLE=f.prototype.readDoubleLE,e.prototype.readDoubleBE=f.prototype.readDoubleBE,e.prototype.writeUInt8=f.prototype.writeUInt8,e.prototype.writeUInt16LE=f.prototype.writeUInt16LE,e.prototype.writeUInt16BE=f.prototype.writeUInt16BE,e.prototype.writeUInt32LE=f.prototype.writeUInt32LE,e.prototype.writeUInt32BE=f.prototype.writeUInt32BE,e.prototype.writeInt8=f.prototype.writeInt8,e.prototype.writeInt16LE=f.prototype.writeInt16LE,e.prototype.writeInt16BE=f.prototype.writeInt16BE,e.prototype.writeInt32LE=f.prototype.writeInt32LE,e.prototype.writeInt32BE=f.prototype.writeInt32BE,e.prototype.writeFloatLE=f.prototype.writeFloatLE,e.prototype.writeFloatBE=f.prototype.writeFloatBE,e.prototype.writeDoubleLE=f.prototype.writeDoubleLE,e.prototype.writeDoubleBE=f.prototype.writeDoubleBE})()},{assert:2,"./buffer_ieee754":1,"base64-js":5}],3:[function(t,e,n){function r(t){return t instanceof Array||Array.isArray(t)||t&&t!==Object.prototype&&r(t.__proto__)}function o(t){return t instanceof RegExp||"object"==typeof t&&"[object RegExp]"===Object.prototype.toString.call(t)}function i(t){if(t instanceof Date)return!0;if("object"!=typeof t)return!1;var e=Date.prototype&&u(Date.prototype),n=t.__proto__&&u(t.__proto__);return JSON.stringify(n)===JSON.stringify(e)}t("events"),n.isArray=r,n.isDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)},n.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},n.print=function(){},n.puts=function(){},n.debug=function(){},n.inspect=function(t,e,s,c){function f(t,s){if(t&&"function"==typeof t.inspect&&t!==n&&(!t.constructor||t.constructor.prototype!==t))return t.inspect(s);switch(typeof t){case"undefined":return p("undefined","undefined");case"string":var c="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return p(c,"string");case"number":return p(""+t,"number");case"boolean":return p(""+t,"boolean")}if(null===t)return p("null","null");var h=a(t),d=e?u(t):h;if("function"==typeof t&&0===d.length){if(o(t))return p(""+t,"regexp");var g=t.name?": "+t.name:"";return p("[Function"+g+"]","special")}if(i(t)&&0===d.length)return p(t.toUTCString(),"date");var y,v,m;if(r(t)?(v="Array",m=["[","]"]):(v="Object",m=["{","}"]),"function"==typeof t){var b=t.name?": "+t.name:"";y=o(t)?" "+t:" [Function"+b+"]"}else y="";if(i(t)&&(y=" "+t.toUTCString()),0===d.length)return m[0]+y+m[1];if(0>s)return o(t)?p(""+t,"regexp"):p("[Object]","special");l.push(t);var w=d.map(function(e){var n,o;if(t.__lookupGetter__&&(t.__lookupGetter__(e)?o=t.__lookupSetter__(e)?p("[Getter/Setter]","special"):p("[Getter]","special"):t.__lookupSetter__(e)&&(o=p("[Setter]","special"))),0>h.indexOf(e)&&(n="["+e+"]"),o||(0>l.indexOf(t[e])?(o=null===s?f(t[e]):f(t[e],s-1),o.indexOf("\n")>-1&&(o=r(t)?o.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+o.split("\n").map(function(t){return"   "+t}).join("\n"))):o=p("[Circular]","special")),n===void 0){if("Array"===v&&e.match(/^\d+$/))return o;n=JSON.stringify(""+e),n.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(n=n.substr(1,n.length-2),n=p(n,"name")):(n=n.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),n=p(n,"string"))}return n+": "+o});l.pop();var E=0,_=w.reduce(function(t,e){return E++,e.indexOf("\n")>=0&&E++,t+e.length+1},0);return w=_>50?m[0]+(""===y?"":y+"\n ")+" "+w.join(",\n  ")+" "+m[1]:m[0]+y+" "+w.join(", ")+" "+m[1]}var l=[],p=function(t,e){var n={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r={special:"cyan",number:"blue","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[e];return r?"["+n[r][0]+"m"+t+"["+n[r][1]+"m":t};return c||(p=function(t){return t}),f(t,s===void 0?2:s)},n.log=function(){},n.pump=null;var a=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e},u=Object.getOwnPropertyNames||function(t){var e=[];for(var n in t)Object.hasOwnProperty.call(t,n)&&e.push(n);return e},s=Object.create||function(t,e){var n;if(null===t)n={__proto__:null};else{if("object"!=typeof t)throw new TypeError("typeof prototype["+typeof t+"] != 'object'");var r=function(){};r.prototype=t,n=new r,n.__proto__=t}return e!==void 0&&Object.defineProperties&&Object.defineProperties(n,e),n};n.inherits=function(t,e){t.super_=e,t.prototype=s(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})};var c=/%[sdj%]/g;n.format=function(t){if("string"!=typeof t){for(var e=[],r=0;arguments.length>r;r++)e.push(n.inspect(arguments[r]));return e.join(" ")}for(var r=1,o=arguments,i=o.length,a=(t+"").replace(c,function(t){if("%%"===t)return"%";if(r>=i)return t;switch(t){case"%s":return o[r++]+"";case"%d":return Number(o[r++]);case"%j":return JSON.stringify(o[r++]);default:return t}}),u=o[r];i>r;u=o[++r])a+=null===u||"object"!=typeof u?" "+u:" "+n.inspect(u);return a}},{events:6}],5:[function(t,e){(function(){"use strict";function t(t){var e,n,o,i,a,u;if(t.length%4>0)throw"Invalid string. Length must be a multiple of 4";for(a=t.indexOf("="),a=a>0?t.length-a:0,u=[],o=a>0?t.length-4:t.length,e=0,n=0;o>e;e+=4,n+=3)i=r.indexOf(t[e])<<18|r.indexOf(t[e+1])<<12|r.indexOf(t[e+2])<<6|r.indexOf(t[e+3]),u.push((16711680&i)>>16),u.push((65280&i)>>8),u.push(255&i);return 2===a?(i=r.indexOf(t[e])<<2|r.indexOf(t[e+1])>>4,u.push(255&i)):1===a&&(i=r.indexOf(t[e])<<10|r.indexOf(t[e+1])<<4|r.indexOf(t[e+2])>>2,u.push(255&i>>8),u.push(255&i)),u}function n(t){function e(t){return r[63&t>>18]+r[63&t>>12]+r[63&t>>6]+r[63&t]}var n,o,i,a=t.length%3,u="";for(n=0,i=t.length-a;i>n;n+=3)o=(t[n]<<16)+(t[n+1]<<8)+t[n+2],u+=e(o);switch(a){case 1:o=t[t.length-1],u+=r[o>>2],u+=r[63&o<<4],u+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],u+=r[o>>10],u+=r[63&o>>4],u+=r[63&o<<2],u+="="}return u}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";e.exports.toByteArray=t,e.exports.fromByteArray=n})()},{}],7:[function(t,e,n){n.readIEEE754=function(t,e,n,r,o){var i,a,u=8*o-r-1,s=(1<<u)-1,c=s>>1,f=-7,l=n?0:o-1,p=n?1:-1,h=t[e+l];for(l+=p,i=h&(1<<-f)-1,h>>=-f,f+=u;f>0;i=256*i+t[e+l],l+=p,f-=8);for(a=i&(1<<-f)-1,i>>=-f,f+=r;f>0;a=256*a+t[e+l],l+=p,f-=8);if(0===i)i=1-c;else{if(i===s)return a?0/0:1/0*(h?-1:1);a+=Math.pow(2,r),i-=c}return(h?-1:1)*a*Math.pow(2,i-r)},n.writeIEEE754=function(t,e,n,r,o,i){var a,u,s,c=8*i-o-1,f=(1<<c)-1,l=f>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?i-1:0,d=r?-1:1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(u=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),1>e*(s=Math.pow(2,-a))&&(a--,s*=2),e+=a+l>=1?p/s:p*Math.pow(2,1-l),e*s>=2&&(a++,s/=2),a+l>=f?(u=0,a=f):a+l>=1?(u=(e*s-1)*Math.pow(2,o),a+=l):(u=e*Math.pow(2,l-1)*Math.pow(2,o),a=0));o>=8;t[n+h]=255&u,h+=d,u/=256,o-=8);for(a=a<<o|u,c+=o;c>0;t[n+h]=255&a,h+=d,a/=256,c-=8);t[n+h-d]|=128*g}},{}],8:[function(t,e){var n=e.exports={};n.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){if(t.source===window&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){var e=n.shift();e()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.binding=function(){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw Error("process.chdir is not supported")}},{}],6:[function(t,e,n){(function(t){function e(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;t.length>n;n++)if(e===t[n])return n;return-1}t.EventEmitter||(t.EventEmitter=function(){});var r=n.EventEmitter=t.EventEmitter,o="function"==typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=10;r.prototype.setMaxListeners=function(t){this._events||(this._events={}),this._events.maxListeners=t},r.prototype.emit=function(t){if("error"===t&&(!this._events||!this._events.error||o(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var e=this._events[t];if(!e)return!1;if("function"==typeof e){switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:var n=Array.prototype.slice.call(arguments,1);e.apply(this,n)}return!0}if(o(e)){for(var n=Array.prototype.slice.call(arguments,1),r=e.slice(),i=0,a=r.length;a>i;i++)r[i].apply(this,n);return!0}return!1},r.prototype.addListener=function(t,e){if("function"!=typeof e)throw Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",t,e),this._events[t])if(o(this._events[t])){if(!this._events[t].warned){var n;n=void 0!==this._events.maxListeners?this._events.maxListeners:i,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),console.trace())}this._events[t].push(e)}else this._events[t]=[this._events[t],e];else this._events[t]=e;return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){var n=this;return n.on(t,function r(){n.removeListener(t,r),e.apply(this,arguments)}),this},r.prototype.removeListener=function(t,n){if("function"!=typeof n)throw Error("removeListener only takes instances of Function");if(!this._events||!this._events[t])return this;var r=this._events[t];if(o(r)){var i=e(r,n);if(0>i)return this;r.splice(i,1),0==r.length&&delete this._events[t]}else this._events[t]===n&&delete this._events[t];return this},r.prototype.removeAllListeners=function(t){return 0===arguments.length?(this._events={},this):(t&&this._events&&this._events[t]&&(this._events[t]=null),this)},r.prototype.listeners=function(t){return this._events||(this._events={}),this._events[t]||(this._events[t]=[]),o(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]}})(t("__browserify_process"))},{__browserify_process:8}],4:[function(t,e,n){(function(){function e(t){this.length=t}function r(t){return 16>t?"0"+t.toString(16):t.toString(16)}function o(t){for(var e=[],n=0;t.length>n;n++)if(127>=t.charCodeAt(n))e.push(t.charCodeAt(n));else for(var r=encodeURIComponent(t.charAt(n)).substr(1).split("%"),o=0;r.length>o;o++)e.push(parseInt(r[o],16));return e}function i(t){for(var e=[],n=0;t.length>n;n++)e.push(255&t.charCodeAt(n));return e}function a(e){return t("base64-js").toByteArray(e)}function u(t,e,n,r){for(var o=0;r>o&&!(o+n>=e.length||o>=t.length);)e[o+n]=t[o],o++;return o}function s(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}function c(t){return t=~~Math.ceil(+t),0>t?0:t}function f(t,n,r){if(!(this instanceof f))return new f(t,n,r);var o;if("number"==typeof r)this.length=c(n),this.parent=t,this.offset=r;else{switch(o=typeof t){case"number":this.length=c(t);break;case"string":this.length=f.byteLength(t,n);break;case"object":this.length=c(t.length);break;default:throw Error("First argument needs to be a number, array or string.")}if(this.length>f.poolSize?(this.parent=new e(this.length),this.offset=0):((!C||C.length-C.used<this.length)&&p(),this.parent=C,this.offset=C.used,C.used+=this.length),l(t))for(var i=0;this.length>i;i++)this.parent[i+this.offset]=t[i];else"string"==o&&(this.length=this.write(t,0,n))}}function l(t){return Array.isArray(t)||f.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function p(){C=new e(f.poolSize),C.used=0}function h(t,e,n,r){var o=0;return r||(I.ok("boolean"==typeof n,"missing or invalid endian"),I.ok(void 0!==e&&null!==e,"missing offset"),I.ok(t.length>e+1,"Trying to read beyond buffer length")),n?(o=t.parent[t.offset+e]<<8,o|=t.parent[t.offset+e+1]):(o=t.parent[t.offset+e],o|=t.parent[t.offset+e+1]<<8),o}function d(t,e,n,r){var o=0;return r||(I.ok("boolean"==typeof n,"missing or invalid endian"),I.ok(void 0!==e&&null!==e,"missing offset"),I.ok(t.length>e+3,"Trying to read beyond buffer length")),n?(o=t.parent[t.offset+e+1]<<16,o|=t.parent[t.offset+e+2]<<8,o|=t.parent[t.offset+e+3],o+=t.parent[t.offset+e]<<24>>>0):(o=t.parent[t.offset+e+2]<<16,o|=t.parent[t.offset+e+1]<<8,o|=t.parent[t.offset+e],o+=t.parent[t.offset+e+3]<<24>>>0),o}function g(t,e,n,r){var o,i;return r||(I.ok("boolean"==typeof n,"missing or invalid endian"),I.ok(void 0!==e&&null!==e,"missing offset"),I.ok(t.length>e+1,"Trying to read beyond buffer length")),i=h(t,e,n,r),o=32768&i,o?-1*(65535-i+1):i}function y(t,e,n,r){var o,i;return r||(I.ok("boolean"==typeof n,"missing or invalid endian"),I.ok(void 0!==e&&null!==e,"missing offset"),I.ok(t.length>e+3,"Trying to read beyond buffer length")),i=d(t,e,n,r),o=2147483648&i,o?-1*(4294967295-i+1):i}function v(e,n,r,o){return o||(I.ok("boolean"==typeof r,"missing or invalid endian"),I.ok(e.length>n+3,"Trying to read beyond buffer length")),t("./buffer_ieee754").readIEEE754(e,n,r,23,4)}function m(e,n,r,o){return o||(I.ok("boolean"==typeof r,"missing or invalid endian"),I.ok(e.length>n+7,"Trying to read beyond buffer length")),t("./buffer_ieee754").readIEEE754(e,n,r,52,8)}function b(t,e){I.ok("number"==typeof t,"cannot write a non-number as a number"),I.ok(t>=0,"specified a negative value for writing an unsigned value"),I.ok(e>=t,"value is larger than maximum value for type"),I.ok(Math.floor(t)===t,"value has a fractional component")}function w(t,e,n,r,o){o||(I.ok(void 0!==e&&null!==e,"missing value"),I.ok("boolean"==typeof r,"missing or invalid endian"),I.ok(void 0!==n&&null!==n,"missing offset"),I.ok(t.length>n+1,"trying to write beyond buffer length"),b(e,65535)),r?(t.parent[t.offset+n]=(65280&e)>>>8,t.parent[t.offset+n+1]=255&e):(t.parent[t.offset+n+1]=(65280&e)>>>8,t.parent[t.offset+n]=255&e)}function E(t,e,n,r,o){o||(I.ok(void 0!==e&&null!==e,"missing value"),I.ok("boolean"==typeof r,"missing or invalid endian"),I.ok(void 0!==n&&null!==n,"missing offset"),I.ok(t.length>n+3,"trying to write beyond buffer length"),b(e,4294967295)),r?(t.parent[t.offset+n]=255&e>>>24,t.parent[t.offset+n+1]=255&e>>>16,t.parent[t.offset+n+2]=255&e>>>8,t.parent[t.offset+n+3]=255&e):(t.parent[t.offset+n+3]=255&e>>>24,t.parent[t.offset+n+2]=255&e>>>16,t.parent[t.offset+n+1]=255&e>>>8,t.parent[t.offset+n]=255&e)}function _(t,e,n){I.ok("number"==typeof t,"cannot write a non-number as a number"),I.ok(e>=t,"value larger than maximum allowed value"),I.ok(t>=n,"value smaller than minimum allowed value"),I.ok(Math.floor(t)===t,"value has a fractional component")}function x(t,e,n){I.ok("number"==typeof t,"cannot write a non-number as a number"),I.ok(e>=t,"value larger than maximum allowed value"),I.ok(t>=n,"value smaller than minimum allowed value")}function k(t,e,n,r,o){o||(I.ok(void 0!==e&&null!==e,"missing value"),I.ok("boolean"==typeof r,"missing or invalid endian"),I.ok(void 0!==n&&null!==n,"missing offset"),I.ok(t.length>n+1,"Trying to write beyond buffer length"),_(e,32767,-32768)),e>=0?w(t,e,n,r,o):w(t,65535+e+1,n,r,o)}function N(t,e,n,r,o){o||(I.ok(void 0!==e&&null!==e,"missing value"),I.ok("boolean"==typeof r,"missing or invalid endian"),I.ok(void 0!==n&&null!==n,"missing offset"),I.ok(t.length>n+3,"Trying to write beyond buffer length"),_(e,2147483647,-2147483648)),e>=0?E(t,e,n,r,o):E(t,4294967295+e+1,n,r,o)}function S(e,n,r,o,i){i||(I.ok(void 0!==n&&null!==n,"missing value"),I.ok("boolean"==typeof o,"missing or invalid endian"),I.ok(void 0!==r&&null!==r,"missing offset"),I.ok(e.length>r+3,"Trying to write beyond buffer length"),x(n,3.4028234663852886e38,-3.4028234663852886e38)),t("./buffer_ieee754").writeIEEE754(e,n,r,o,23,4)}function A(e,n,r,o,i){i||(I.ok(void 0!==n&&null!==n,"missing value"),I.ok("boolean"==typeof o,"missing or invalid endian"),I.ok(void 0!==r&&null!==r,"missing offset"),I.ok(e.length>r+7,"Trying to write beyond buffer length"),x(n,1.7976931348623157e308,-1.7976931348623157e308)),t("./buffer_ieee754").writeIEEE754(e,n,r,o,52,8)}var I=t("assert");n.INSPECT_MAX_BYTES=50,e.byteLength=function(t,e){switch(e||"utf8"){case"hex":return t.length/2;case"utf8":case"utf-8":return o(t).length;case"ascii":return t.length;case"base64":return a(t).length;default:throw Error("Unknown encoding")}},e.prototype.utf8Write=function(t,n,r){return e._charsWritten=u(o(t),this,n,r)},e.prototype.asciiWrite=function(t,n,r){return e._charsWritten=u(i(t),this,n,r)},e.prototype.base64Write=function(t,n,r){return e._charsWritten=u(a(t),this,n,r)},e.prototype.base64Slice=function(){var e=Array.prototype.slice.apply(this,arguments);return t("base64-js").fromByteArray(e)},e.prototype.utf8Slice=function(){for(var t=Array.prototype.slice.apply(this,arguments),e="",n="",r=0;t.length>r;)127>=t[r]?(e+=s(n)+String.fromCharCode(t[r]),n=""):n+="%"+t[r].toString(16),r++;
return e+s(n)},e.prototype.asciiSlice=function(){for(var t=Array.prototype.slice.apply(this,arguments),e="",n=0;t.length>n;n++)e+=String.fromCharCode(t[n]);return e},e.prototype.inspect=function(){for(var t=[],e=this.length,o=0;e>o;o++)if(t[o]=r(this[o]),o==n.INSPECT_MAX_BYTES){t[o+1]="...";break}return"<SlowBuffer "+t.join(" ")+">"},e.prototype.hexSlice=function(t,e){var n=this.length;(!t||0>t)&&(t=0),(!e||0>e||e>n)&&(e=n);for(var o="",i=t;e>i;i++)o+=r(this[i]);return o},e.prototype.toString=function(t,e,n){if(t=((t||"utf8")+"").toLowerCase(),e=+e||0,n===void 0&&(n=this.length),+n==e)return"";switch(t){case"hex":return this.hexSlice(e,n);case"utf8":case"utf-8":return this.utf8Slice(e,n);case"ascii":return this.asciiSlice(e,n);case"binary":return this.binarySlice(e,n);case"base64":return this.base64Slice(e,n);case"ucs2":case"ucs-2":return this.ucs2Slice(e,n);default:throw Error("Unknown encoding")}},e.prototype.hexWrite=function(t,n,r){n=+n||0;var o=this.length-n;r?(r=+r,r>o&&(r=o)):r=o;var i=t.length;if(i%2)throw Error("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;r>a;a++){var u=parseInt(t.substr(2*a,2),16);if(isNaN(u))throw Error("Invalid hex string");this[n+a]=u}return e._charsWritten=2*a,a},e.prototype.write=function(t,e,n,r){if(isFinite(e))isFinite(n)||(r=n,n=void 0);else{var o=r;r=e,e=n,n=o}e=+e||0;var i=this.length-e;switch(n?(n=+n,n>i&&(n=i)):n=i,r=((r||"utf8")+"").toLowerCase()){case"hex":return this.hexWrite(t,e,n);case"utf8":case"utf-8":return this.utf8Write(t,e,n);case"ascii":return this.asciiWrite(t,e,n);case"binary":return this.binaryWrite(t,e,n);case"base64":return this.base64Write(t,e,n);case"ucs2":case"ucs-2":return this.ucs2Write(t,e,n);default:throw Error("Unknown encoding")}},e.prototype.slice=function(t,e){if(void 0===e&&(e=this.length),e>this.length)throw Error("oob");if(t>e)throw Error("oob");return new f(this,e-t,+t)},e.prototype.copy=function(t,e,n,r){for(var o=[],i=n;r>i;i++)I.ok(this[i]!==void 0,"copying undefined buffer bytes!"),o.push(this[i]);for(var i=e;e+o.length>i;i++)t[i]=o[i-e]},n.SlowBuffer=e,n.Buffer=f,f.poolSize=8192;var C;f.isBuffer=function(t){return t instanceof f||t instanceof e},f.concat=function(t,e){if(!Array.isArray(t))throw Error("Usage: Buffer.concat(list, [totalLength])\n       list should be an Array.");if(0===t.length)return new f(0);if(1===t.length)return t[0];if("number"!=typeof e){e=0;for(var n=0;t.length>n;n++){var r=t[n];e+=r.length}}for(var o=new f(e),i=0,n=0;t.length>n;n++){var r=t[n];r.copy(o,i),i+=r.length}return o},f.prototype.inspect=function(){for(var t=[],e=this.length,o=0;e>o;o++)if(t[o]=r(this.parent[o+this.offset]),o==n.INSPECT_MAX_BYTES){t[o+1]="...";break}return"<Buffer "+t.join(" ")+">"},f.prototype.get=function(t){if(0>t||t>=this.length)throw Error("oob");return this.parent[this.offset+t]},f.prototype.set=function(t,e){if(0>t||t>=this.length)throw Error("oob");return this.parent[this.offset+t]=e},f.prototype.write=function(t,n,r,o){if(isFinite(n))isFinite(r)||(o=r,r=void 0);else{var i=o;o=n,n=r,r=i}n=+n||0;var a=this.length-n;r?(r=+r,r>a&&(r=a)):r=a,o=((o||"utf8")+"").toLowerCase();var u;switch(o){case"hex":u=this.parent.hexWrite(t,this.offset+n,r);break;case"utf8":case"utf-8":u=this.parent.utf8Write(t,this.offset+n,r);break;case"ascii":u=this.parent.asciiWrite(t,this.offset+n,r);break;case"binary":u=this.parent.binaryWrite(t,this.offset+n,r);break;case"base64":u=this.parent.base64Write(t,this.offset+n,r);break;case"ucs2":case"ucs-2":u=this.parent.ucs2Write(t,this.offset+n,r);break;default:throw Error("Unknown encoding")}return f._charsWritten=e._charsWritten,u},f.prototype.toString=function(t,e,n){switch(t=((t||"utf8")+"").toLowerCase(),e===void 0||0>e?e=0:e>this.length&&(e=this.length),n===void 0||n>this.length?n=this.length:0>n&&(n=0),e+=this.offset,n+=this.offset,t){case"hex":return this.parent.hexSlice(e,n);case"utf8":case"utf-8":return this.parent.utf8Slice(e,n);case"ascii":return this.parent.asciiSlice(e,n);case"binary":return this.parent.binarySlice(e,n);case"base64":return this.parent.base64Slice(e,n);case"ucs2":case"ucs-2":return this.parent.ucs2Slice(e,n);default:throw Error("Unknown encoding")}},f.byteLength=e.byteLength,f.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),"string"==typeof t&&(t=t.charCodeAt(0)),"number"!=typeof t||isNaN(t))throw Error("value is not a number");if(e>n)throw Error("end < start");if(n===e)return 0;if(0==this.length)return 0;if(0>e||e>=this.length)throw Error("start out of bounds");if(0>n||n>this.length)throw Error("end out of bounds");return this.parent.fill(t,e+this.offset,n+this.offset)},f.prototype.copy=function(t,e,n,r){var o=this;if(n||(n=0),r||(r=this.length),e||(e=0),n>r)throw Error("sourceEnd < sourceStart");if(r===n)return 0;if(0==t.length||0==o.length)return 0;if(0>e||e>=t.length)throw Error("targetStart out of bounds");if(0>n||n>=o.length)throw Error("sourceStart out of bounds");if(0>r||r>o.length)throw Error("sourceEnd out of bounds");return r>this.length&&(r=this.length),r-n>t.length-e&&(r=t.length-e+n),this.parent.copy(t.parent,e+t.offset,n+this.offset,r+this.offset)},f.prototype.slice=function(t,e){if(void 0===e&&(e=this.length),e>this.length)throw Error("oob");if(t>e)throw Error("oob");return new f(this.parent,e-t,+t+this.offset)},f.prototype.utf8Slice=function(t,e){return this.toString("utf8",t,e)},f.prototype.binarySlice=function(t,e){return this.toString("binary",t,e)},f.prototype.asciiSlice=function(t,e){return this.toString("ascii",t,e)},f.prototype.utf8Write=function(t,e){return this.write(t,e,"utf8")},f.prototype.binaryWrite=function(t,e){return this.write(t,e,"binary")},f.prototype.asciiWrite=function(t,e){return this.write(t,e,"ascii")},f.prototype.readUInt8=function(t,e){var n=this;return e||(I.ok(void 0!==t&&null!==t,"missing offset"),I.ok(n.length>t,"Trying to read beyond buffer length")),n.parent[n.offset+t]},f.prototype.readUInt16LE=function(t,e){return h(this,t,!1,e)},f.prototype.readUInt16BE=function(t,e){return h(this,t,!0,e)},f.prototype.readUInt32LE=function(t,e){return d(this,t,!1,e)},f.prototype.readUInt32BE=function(t,e){return d(this,t,!0,e)},f.prototype.readInt8=function(t,e){var n,r=this;return e||(I.ok(void 0!==t&&null!==t,"missing offset"),I.ok(r.length>t,"Trying to read beyond buffer length")),n=128&r.parent[r.offset+t],n?-1*(255-r.parent[r.offset+t]+1):r.parent[r.offset+t]},f.prototype.readInt16LE=function(t,e){return g(this,t,!1,e)},f.prototype.readInt16BE=function(t,e){return g(this,t,!0,e)},f.prototype.readInt32LE=function(t,e){return y(this,t,!1,e)},f.prototype.readInt32BE=function(t,e){return y(this,t,!0,e)},f.prototype.readFloatLE=function(t,e){return v(this,t,!1,e)},f.prototype.readFloatBE=function(t,e){return v(this,t,!0,e)},f.prototype.readDoubleLE=function(t,e){return m(this,t,!1,e)},f.prototype.readDoubleBE=function(t,e){return m(this,t,!0,e)},f.prototype.writeUInt8=function(t,e,n){var r=this;n||(I.ok(void 0!==t&&null!==t,"missing value"),I.ok(void 0!==e&&null!==e,"missing offset"),I.ok(r.length>e,"trying to write beyond buffer length"),b(t,255)),r.parent[r.offset+e]=t},f.prototype.writeUInt16LE=function(t,e,n){w(this,t,e,!1,n)},f.prototype.writeUInt16BE=function(t,e,n){w(this,t,e,!0,n)},f.prototype.writeUInt32LE=function(t,e,n){E(this,t,e,!1,n)},f.prototype.writeUInt32BE=function(t,e,n){E(this,t,e,!0,n)},f.prototype.writeInt8=function(t,e,n){var r=this;n||(I.ok(void 0!==t&&null!==t,"missing value"),I.ok(void 0!==e&&null!==e,"missing offset"),I.ok(r.length>e,"Trying to write beyond buffer length"),_(t,127,-128)),t>=0?r.writeUInt8(t,e,n):r.writeUInt8(255+t+1,e,n)},f.prototype.writeInt16LE=function(t,e,n){k(this,t,e,!1,n)},f.prototype.writeInt16BE=function(t,e,n){k(this,t,e,!0,n)},f.prototype.writeInt32LE=function(t,e,n){N(this,t,e,!1,n)},f.prototype.writeInt32BE=function(t,e,n){N(this,t,e,!0,n)},f.prototype.writeFloatLE=function(t,e,n){S(this,t,e,!1,n)},f.prototype.writeFloatBE=function(t,e,n){S(this,t,e,!0,n)},f.prototype.writeDoubleLE=function(t,e,n){A(this,t,e,!1,n)},f.prototype.writeDoubleBE=function(t,e,n){A(this,t,e,!0,n)},e.prototype.readUInt8=f.prototype.readUInt8,e.prototype.readUInt16LE=f.prototype.readUInt16LE,e.prototype.readUInt16BE=f.prototype.readUInt16BE,e.prototype.readUInt32LE=f.prototype.readUInt32LE,e.prototype.readUInt32BE=f.prototype.readUInt32BE,e.prototype.readInt8=f.prototype.readInt8,e.prototype.readInt16LE=f.prototype.readInt16LE,e.prototype.readInt16BE=f.prototype.readInt16BE,e.prototype.readInt32LE=f.prototype.readInt32LE,e.prototype.readInt32BE=f.prototype.readInt32BE,e.prototype.readFloatLE=f.prototype.readFloatLE,e.prototype.readFloatBE=f.prototype.readFloatBE,e.prototype.readDoubleLE=f.prototype.readDoubleLE,e.prototype.readDoubleBE=f.prototype.readDoubleBE,e.prototype.writeUInt8=f.prototype.writeUInt8,e.prototype.writeUInt16LE=f.prototype.writeUInt16LE,e.prototype.writeUInt16BE=f.prototype.writeUInt16BE,e.prototype.writeUInt32LE=f.prototype.writeUInt32LE,e.prototype.writeUInt32BE=f.prototype.writeUInt32BE,e.prototype.writeInt8=f.prototype.writeInt8,e.prototype.writeInt16LE=f.prototype.writeInt16LE,e.prototype.writeInt16BE=f.prototype.writeInt16BE,e.prototype.writeInt32LE=f.prototype.writeInt32LE,e.prototype.writeInt32BE=f.prototype.writeInt32BE,e.prototype.writeFloatLE=f.prototype.writeFloatLE,e.prototype.writeFloatBE=f.prototype.writeFloatBE,e.prototype.writeDoubleLE=f.prototype.writeDoubleLE,e.prototype.writeDoubleBE=f.prototype.writeDoubleBE})()},{assert:2,"./buffer_ieee754":7,"base64-js":9}],9:[function(t,e){(function(){"use strict";function t(t){var e,n,o,i,a,u;if(t.length%4>0)throw"Invalid string. Length must be a multiple of 4";for(a=t.indexOf("="),a=a>0?t.length-a:0,u=[],o=a>0?t.length-4:t.length,e=0,n=0;o>e;e+=4,n+=3)i=r.indexOf(t[e])<<18|r.indexOf(t[e+1])<<12|r.indexOf(t[e+2])<<6|r.indexOf(t[e+3]),u.push((16711680&i)>>16),u.push((65280&i)>>8),u.push(255&i);return 2===a?(i=r.indexOf(t[e])<<2|r.indexOf(t[e+1])>>4,u.push(255&i)):1===a&&(i=r.indexOf(t[e])<<10|r.indexOf(t[e+1])<<4|r.indexOf(t[e+2])>>2,u.push(255&i>>8),u.push(255&i)),u}function n(t){function e(t){return r[63&t>>18]+r[63&t>>12]+r[63&t>>6]+r[63&t]}var n,o,i,a=t.length%3,u="";for(n=0,i=t.length-a;i>n;n+=3)o=(t[n]<<16)+(t[n+1]<<8)+t[n+2],u+=e(o);switch(a){case 1:o=t[t.length-1],u+=r[o>>2],u+=r[63&o<<4],u+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],u+=r[o>>10],u+=r[63&o>>4],u+=r[63&o<<2],u+="="}return u}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";e.exports.toByteArray=t,e.exports.fromByteArray=n})()},{}]},{},[]),e.exports=t("buffer-browserify")},{}],18:[function(t,e){(function(n){(function(){function r(t,e,n){var r=e&&n||0,o=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){16>o&&(e[r+o++]=g[t])});16>o;)e[r+o++]=0;return e}function o(t,e){var n=e||0,r=d;return r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]}function i(t,e,n){var r=e&&n||0,i=e||[];t=t||{};var a=null!=t.clockseq?t.clockseq:b,u=null!=t.msecs?t.msecs:(new Date).getTime(),s=null!=t.nsecs?t.nsecs:E+1,c=u-w+(s-E)/1e4;if(0>c&&null==t.clockseq&&(a=16383&a+1),(0>c||u>w)&&null==t.nsecs&&(s=0),s>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");w=u,E=s,b=a,u+=122192928e5;var f=(1e4*(268435455&u)+s)%4294967296;i[r++]=255&f>>>24,i[r++]=255&f>>>16,i[r++]=255&f>>>8,i[r++]=255&f;var l=268435455&1e4*(u/4294967296);i[r++]=255&l>>>8,i[r++]=255&l,i[r++]=16|15&l>>>24,i[r++]=255&l>>>16,i[r++]=128|a>>>8,i[r++]=255&a;for(var p=t.node||m,h=0;6>h;h++)i[r+h]=p[h];return e?e:o(i)}function a(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"==t?new h(16):null,t=null),t=t||{};var i=t.random||(t.rng||u)();if(i[6]=64|15&i[6],i[8]=128|63&i[8],e)for(var a=0;16>a;a++)e[r+a]=i[a];return e||o(i)}var u,s=this;if("function"==typeof t)try{var c=t("crypto").randomBytes;u=c&&function(){return c(16)}}catch(f){}if(!u&&s.crypto&&crypto.getRandomValues){var l=new Uint8Array(16);u=function(){return crypto.getRandomValues(l),l}}if(!u){var p=Array(16);u=function(){for(var t,e=0;16>e;e++)0===(3&e)&&(t=4294967296*Math.random()),p[e]=255&t>>>((3&e)<<3);return p}}for(var h="function"==typeof n?n:Array,d=[],g={},y=0;256>y;y++)d[y]=(y+256).toString(16).substr(1),g[d[y]]=y;var v=u(),m=[1|v[0],v[1],v[2],v[3],v[4],v[5]],b=16383&(v[6]<<8|v[7]),w=0,E=0,_=a;if(_.v1=i,_.v4=a,_.parse=r,_.unparse=o,_.BufferClass=h,s.define&&define.amd)define(function(){return _});else if(e!==void 0&&e.exports)e.exports=_;else{var x=s.uuid;_.noConflict=function(){return s.uuid=x,_},s.uuid=_}})()})(t("__browserify_buffer").Buffer)},{crypto:22,__browserify_buffer:21}],13:[function(t,e){function n(t,e,n){return i.isArray(n)?(t[e]=n,n):(t[e],i.isObject(t[e])&&i.isObject(n)?a(t[e],n):t[e]=n,n)}function r(t,e,r){if(null===t)return null;if(!e)return t;e=e.replace(/^\./,"");var o=e.split("."),a=o.pop(),u=t,s=arguments.length>=3;if(!i.isObject(u))return u;for(;o.length>0&&null!==u;){var c=o.shift(),f=u[c];if(f){if(!i.isObject(f))break}else{if(!s)break;f=u[c]={}}u=f}return i.isObject(u)?s?n(u,a,r):u[a]:u}function o(t){function e(){var n=i.toArray(arguments);n.unshift(t);var o=r.apply(null,n);return arguments.length>1&&e.emit("change",arguments[0],arguments[1]),o}return i.extend(e,u.prototype),e}var i=t("lodash"),a=t("xtend"),u=t("events").EventEmitter;e.exports=r,e.exports.factory=o},{events:2,xtend:23,lodash:9}],12:[function(t,e){(function(){function n(t){o.apply(this,[t]),this.statusCode=t?t.statusCode:200}var r=t("util"),o=t("./message"),i=t("lodash");t("q"),e.exports=n,n.factory=function(t){var e=null,r=!1;i.isFunction(t)?(e=t,t=null):i.isBoolean(t)&&(r=t,t=null);var o=new n(t);return r&&o.on("send",function(){o.resolve()}),e&&o.on("send",e),o},r.inherits(n,o),n.prototype.fill=function(t){return t?(this.statusCode=t.statusCode,this.headers=t.headers,this.body=t.body,this.send(t.body),void 0):this},n.prototype.statusCode=200,n.prototype.send=function(t){if(this.headerSent===!0)throw Error("cannot send response after headers have been sent");return this.body=arguments.length>0?t:this.body,this.emit("beforesend",t),this.emit("send",t),this.emit("aftersend",t),this.headerSent=!0,this},n.prototype.resolve=function(t){function e(t){if(200==t.statusCode)if("digger/multipart"==t.getHeader("content-type"))i.each(t.body,function(t){t.statusCode||(t.statusCode=200),e(new n(t))});else{var u=t.getHeader("x-json-branches")||[];a=a.concat(u),i.isArray(t.body)?r=r.concat(t.body):r.push(t.body)}else o.push(t.body)}this.statusCode||(this.statusCode=200);var r=[],o=[],a=this.getHeader("x-json-branches")||[];200===this.statusCode?"digger/multipart"==this.getHeader("content-type")?(e(this),r.length>0&&this.emit("success",r,this),o.length>0&&this.emit("failure",o,this)):(r=this.body,this.emit("success",this.body,this)):(o=this.body,this.emit("failure",this.body,this)),this.setHeader("x-json-branches",a),t&&t(r,o)},n.prototype.toJSON=function(){var t=o.prototype.toJSON.apply(this);return t.statusCode=this.statusCode,t},n.prototype.hasError=function(){return 200!==this.statusCode},n.prototype.sendError=function(t){this.statusCode=500,this.send(t)},n.prototype.send404=function(t){this.statusCode=404,this.send(t?t.toJSON():null)},n.prototype.redirect=function(t){this.statusCode=302,this.send(t)},n.prototype.add=function(t){return this.setHeader("content-type","digger/multipart"),this.body||(this.body=[]),this.body.push(i.isFunction(t.toJSON)?t.toJSON():t),this}})()},{util:5,"./message":19,lodash:9,q:24}],15:[function(t,e){function n(t,e){return r.isString(t)?"<"==t.charAt(0)?t=o.parse(t):"["==t.charAt(0)?t=JSON.parse(t):(e=e||{},e._digger=e._digger||{},e._digger.tag=t,e._children=e._children||[],e._data=e._data||{},t=[e]):r.isArray(t)||(t||(t={}),t=[t]),t}var r=t("lodash"),o=t("./xml"),i=t("../utils");e.exports=function(t,e){function o(t){return null!==t}if(!t)return[];var a=n(t,e);return a=r.filter(r.map(a||[],function(t){if(!t)return null;var e=t._digger=t._digger||{};return e.class=e.class||[],e.diggerpath=e.diggerpath||[],e.diggerid=e.diggerid||i.diggerid(),t._children=t._children||[],t}),o)},e.exports.toXML=o.stringify},{"./xml":25,"../utils":14,lodash:9}],16:[function(t,e){function n(){var t=a.toArray(arguments).reverse(),e=a.map(t,function(t){return a.isString(t)?c(t):t}),n=this.containers(),r=a.groupBy(n,function(t){return t.diggerwarehouse()||"/"}),o=a.keys(r),i=u("merge");return i.method="post",i.url="reception:/",i.body=a.map(o,function(t){var n=a.filter(r[t],function(t){return"_supplychain"!=t.tag()}),o=a.map(n,function(t){return t.meta()}),i=s({method:"post",headers:{"x-json-selector-strings":e},url:(("/"==t?null:t)||"")+"/resolve",body:o||[]});return i.toJSON()}),i.supplychain=this.supplychain,i.expect("digger/containers"),i}function r(t){var e=u("merge");if(e.method="post",e.url="reception:/",0>=arguments.length)return e;if(0>=this.count())return e;a.isArray(t)||(t=[t]);var n=[];a.each(t,function(t){n=n.concat(t.models)});var r=this.get(0),o=this.spawn(n),i=this.diggerwarehouse();o.recurse(function(t){t.diggerwarehouse(i)}),r._children=r._children.concat(n);var c=s({method:"post",url:this.diggerurl(),body:n||[]});return e.on("shipped",function(t){var e={};a.each(n,function(t){e[t._digger.diggerid]=t}),a.each(t,function(t){var n=e[t._digger.diggerid];n&&a.each(t,function(t,e){n[e]=t})})}),e.body=[c.toJSON()],e.supplychain=this.supplychain,e}function o(){var t=u("merge");t.method="post",t.url="reception:/",t.url;var e=a.clone(this.eq(0).toJSON()[0]);delete e._children,delete e._data;var n=s({method:"put",url:this.diggerurl(),body:e});return t.body=[n.toJSON()],t.supplychain=this.supplychain,t}function i(){var t=u("merge");t.method="post",t.url="reception:/";var e=s({method:"delete",url:this.diggerurl()});return t.body=[e.toJSON()],t.supplychain=this.supplychain,t}var a=t("lodash"),u=t("../network/contract").factory,s=t("../network/request").factory,c=t("./selector");e.exports={select:n,append:r,save:o,remove:i}},{"./selector":26,"../network/contract":11,"../network/request":20,lodash:9}],23:[function(t,e){function n(){for(var t={},e=0;arguments.length>e;e++){var n=arguments[e];if(o(n))for(var r=i(n),a=0;r.length>a;a++){var u=r[a];t[u]=n[u]}}return t}function r(t){var e=[];for(var n in t)e.push(n);return e}function o(t){return null!==t&&"object"==typeof t}var i=Object.keys||r;e.exports=n},{}],24:[function(t,e,n){(function(t){(function(t){if("function"==typeof bootstrap)bootstrap("promise",t);else if("object"==typeof n)e.exports=t();else if("function"==typeof define&&define.amd)define(t);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=t}else Q=t()})(function(){"use strict";function e(t){var e=Function.call;return function(){return e.apply(t,arguments)}}function n(t){return"[object StopIteration]"===se(t)||t instanceof te}function r(t,e){e.stack&&"object"==typeof t&&null!==t&&t.stack&&-1===t.stack.indexOf(ce)&&(t.stack=o(t.stack)+"\n"+ce+"\n"+o(e.stack))}function o(t){for(var e=t.split("\n"),n=[],r=0;e.length>r;++r){var o=e[r];a(o)||i(o)||n.push(o)}return n.join("\n")}function i(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}function a(t){var e=/at .+ \((.*):(\d+):\d+\)/.exec(t);if(!e)return!1;var n=e[1],r=e[2];return n===Y&&r>=Q&&de>=r}function u(){if(Error.captureStackTrace){var t,e,n=Error.prepareStackTrace;return Error.prepareStackTrace=function(n,r){t=r[1].getFileName(),e=r[1].getLineNumber()},Error().stack,Error.prepareStackTrace=n,Y=t,e}}function s(t){return E(t)}function c(){function t(t){e=t,ne(n,function(e,n){Z(function(){t.promiseDispatch.apply(t,n)})},void 0),n=void 0,r=void 0}var e,n=[],r=[],o=ie(c.prototype),i=ie(l.prototype);return i.promiseDispatch=function(t,o,i){var a=ee(arguments);n?(n.push(a),"when"===o&&i[1]&&r.push(i[1])):Z(function(){e.promiseDispatch.apply(e,a)})},i.valueOf=function(){if(n)return i;var t=p(e);return h(t)&&(e=t),t},Error.captureStackTrace&&s.longStackJumpLimit>0&&(Error.captureStackTrace(i,c),i.stack=i.stack.substring(i.stack.indexOf("\n")+1)),o.promise=i,o.resolve=function(n){e||t(E(n))},o.fulfill=function(n){e||t(w(n))},o.reject=function(n){e||t(b(n))},o.notify=function(t){e||ne(r,function(e,n){Z(function(){n(t)})},void 0)},o}function f(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var e=c();return D(t,e.resolve,e.reject,e.notify).fail(e.reject),e.promise}function l(t,e,n,r,o){void 0===e&&(e=function(t){return b(Error("Promise does not support operation: "+t))});var i=ie(l.prototype);return i.promiseDispatch=function(n,r,o){var a;try{a=t[r]?t[r].apply(i,o):e.call(i,r,o)}catch(u){a=b(u)}n&&n(a)},n&&(i.valueOf=n),o&&(i.exception=r),i}function p(t){return h(t)?t.valueOf():t}function h(t){return t&&"function"==typeof t.promiseDispatch}function d(t){return t&&"function"==typeof t.then}function g(t){return!y(t)&&!v(t)}function y(t){return!d(p(t))}function v(t){return t=p(t),h(t)&&"exception"in t}function m(){pe||"undefined"==typeof window||window.Touch||!window.console||console.warn("[Q] Unhandled rejection reasons (should be empty):",fe),pe=!0}function b(t){var e=l({when:function(e){if(e){var n=re(le,this);-1!==n&&(le.splice(n,1),fe.splice(n,1))}return e?e(t):this}},function(){return b(t)},function(){return this},t,!0);return m(),le.push(e),fe.push(t),e}function w(t){return l({when:function(){return t},get:function(e){return t[e]},set:function(e,n){t[e]=n},"delete":function(e){delete t[e]},post:function(e,n){return null===e||void 0===e?t.apply(void 0,n):t[e].apply(t,n)},apply:function(e,n){return t.apply(e,n)},keys:function(){return ue(t)}},void 0,function(){return t})}function E(t){return h(t)?t:(t=p(t),d(t)?_(t):w(t))}function _(t){var e=c();return Z(function(){try{t.then(e.resolve,e.reject,e.notify)}catch(n){e.reject(n)}}),e.promise}function x(t){return l({isDef:function(){}},function(e,n){return C(t,e,n)},function(){return p(t)})}function k(t,e,n,o){function i(t){try{return"function"==typeof e?e(t):t}catch(n){return b(n)}}function a(t){if("function"==typeof n){r(t,p);try{return n(t)}catch(e){return b(e)}}return b(t)}function u(t){return"function"==typeof o?o(t):t}var f=c(),l=!1,p=E(t);return Z(function(){p.promiseDispatch(function(t){l||(l=!0,f.resolve(i(t)))},"when",[function(t){l||(l=!0,f.resolve(a(t)))}])}),p.promiseDispatch(void 0,"when",[void 0,function(t){var e,n=!1;try{e=u(t)}catch(r){if(n=!0,!s.onerror)throw r;s.onerror(r)}n||f.notify(e)}]),f.promise}function N(t,e,n){return k(t,function(t){return U(t).then(function(t){return e.apply(void 0,t)},n)},n)}function S(t){return function(){function e(t,e){var a;try{a=r[t](e)}catch(u){return n(u)?u.value:b(u)}return k(a,o,i)}var r=t.apply(this,arguments),o=e.bind(e,"send"),i=e.bind(e,"throw");return o()}}function A(t){throw new te(t)}function I(t){return function(){return N([this,U(arguments)],function(e,n){return t.apply(e,n)})}}function C(t,e,n){var r=c();return Z(function(){E(t).promiseDispatch(r.resolve,e,n)}),r.promise}function j(t){return function(e){var n=ee(arguments,1);return C(e,t,n)}}function O(t,e){var n=ee(arguments,2);return he(t,e,n)}function T(t,e){return C(t,"apply",[void 0,e])}function D(t){var e=ee(arguments,1);return T(t,e)}function L(t){var e=ee(arguments,1);return function(){var n=e.concat(ee(arguments));return C(t,"apply",[this,n])}}function U(t){return k(t,function(t){var e=0,n=c();return ne(t,function(r,o,i){y(o)?t[i]=p(o):(++e,k(o,function(r){t[i]=r,0===--e&&n.resolve(t)},n.reject))},void 0),0===e&&n.resolve(t),n.promise})}function B(t){return k(t,function(t){return t=oe(t,E),k(U(oe(t,function(t){return k(t,K,K)})),function(){return t})})}function R(t,e){return k(t,void 0,e)}function M(t,e){return k(t,void 0,void 0,e)}function F(t,e){return k(t,function(t){return k(e(),function(){return t})},function(t){return k(e(),function(){return b(t)})})}function q(e,n,o,i){var a=function(t){Z(function(){if(r(t,e),!s.onerror)throw t;s.onerror(t)})},u=n||o||i?k(e,n,o,i):e;"object"==typeof t&&t&&t.domain&&(a=t.domain.bind(a)),R(u,a)}function P(t,e,n){var r=c(),o=setTimeout(function(){r.reject(Error(n||"Timed out after "+e+" ms"))},e);return k(t,function(t){clearTimeout(o),r.resolve(t)},function(t){clearTimeout(o),r.reject(t)},r.notify),r.promise}function W(t,e){void 0===e&&(e=t,t=void 0);var n=c();return k(t,void 0,void 0,n.notify),setTimeout(function(){n.resolve(t)},e),n.promise}function J(t,e){var n=ee(e),r=c();return n.push(r.makeNodeResolver()),T(t,n).fail(r.reject),r.promise}function $(t){var e=ee(arguments,1),n=c();return e.push(n.makeNodeResolver()),T(t,e).fail(n.reject),n.promise}function z(t){var e=ee(arguments,1);return function(){var n=e.concat(ee(arguments)),r=c();return n.push(r.makeNodeResolver()),T(t,n).fail(r.reject),r.promise}}function H(t,e){var n=ee(arguments,2);return function(){function r(){return t.apply(e,arguments)}var o=n.concat(ee(arguments)),i=c();return o.push(i.makeNodeResolver()),T(r,o).fail(i.reject),i.promise}}function X(t,e,n){var r=ee(n||[]),o=c();return r.push(o.makeNodeResolver()),he(t,e,r).fail(o.reject),o.promise}function V(t,e){var n=ee(arguments,2),r=c();return n.push(r.makeNodeResolver()),he(t,e,n).fail(r.reject),r.promise}function G(t,e){return e?(t.then(function(t){Z(function(){e(null,t)})},function(t){Z(function(){e(t)})}),void 0):t}var Y,Z,Q=u(),K=function(){};"function"==typeof setImmediate?Z="undefined"!=typeof window?setImmediate.bind(window):setImmediate:t!==void 0&&t.nextTick?Z=t.nextTick:function(){function t(){if(--o,++a>=r){a=0,r*=4;for(var t=i&&Math.min(i-1,r);t>o;)++o,u()}for(;i;){--i,e=e.next;var n=e.task;e.task=void 0,n()}a=0}var e={task:void 0,next:null},n=e,r=2,o=0,i=0,a=0,u=void 0;if(Z=function(t){n=n.next={task:t,next:null},++i>o&&r>o&&(++o,u())},"undefined"!=typeof MessageChannel){var s=new MessageChannel;s.port1.onmessage=t,u=function(){s.port2.postMessage(0)}}else u=function(){setTimeout(t,0)}}();var te,ee=e(Array.prototype.slice),ne=e(Array.prototype.reduce||function(t,e){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){e=this[n++];break}if(++n>=r)throw new TypeError}for(;r>n;n++)n in this&&(e=t(e,this[n],n));return e}),re=e(Array.prototype.indexOf||function(t){for(var e=0;this.length>e;e++)if(this[e]===t)return e;return-1}),oe=e(Array.prototype.map||function(t,e){var n=this,r=[];return ne(n,function(o,i,a){r.push(t.call(e,i,a,n))},void 0),r}),ie=Object.create||function(t){function e(){}return e.prototype=t,new e},ae=e(Object.prototype.hasOwnProperty),ue=Object.keys||function(t){var e=[];for(var n in t)ae(t,n)&&e.push(n);return e},se=e(Object.prototype.toString);te="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t},s.longStackJumpLimit=1;var ce="From previous event:";s.nextTick=Z,s.defer=c,c.prototype.makeNodeResolver=function(){var t=this;return function(e,n){e?t.reject(e):arguments.length>2?t.resolve(ee(arguments,1)):t.resolve(n)}},s.promise=f,s.makePromise=l,l.prototype.then=function(t,e,n){return k(this,t,e,n)},l.prototype.thenResolve=function(t){return k(this,function(){return t})},l.prototype.thenReject=function(t){return k(this,function(){throw t})},ne(["isFulfilled","isRejected","isPending","dispatch","when","spread","get","set","del","delete","post","send","invoke","keys","fapply","fcall","fbind","all","allResolved","timeout","delay","catch","finally","fail","fin","progress","done","nfcall","nfapply","nfbind","denodeify","nbind","npost","nsend","ninvoke","nodeify"],function(t,e){l.prototype[e]=function(){return s[e].apply(s,[this].concat(ee(arguments)))}},void 0),l.prototype.toSource=function(){return""+this},l.prototype.toString=function(){return"[object Promise]"},s.nearer=p,s.isPromise=h,s.isPromiseAlike=d,s.isPending=g,s.isFulfilled=y,s.isRejected=v;var fe=s.unhandledReasons=[],le=[],pe=!1;t!==void 0&&t.on&&t.on("exit",function(){for(var t=0;fe.length>t;t++){var e=fe[t];e&&e.stack!==void 0?console.warn("Unhandled rejection reason:",e.stack):console.warn("Unhandled rejection reason (no stack):",e)}}),s.reject=b,s.fulfill=w,s.resolve=E,s.master=x,s.when=k,s.spread=N,s.async=S,s["return"]=A,s.promised=I,s.dispatch=C,s.dispatcher=j,s.get=j("get"),s.set=j("set"),s["delete"]=s.del=j("delete");var he=s.post=j("post");s.send=O,s.invoke=O,s.fapply=T,s["try"]=D,s.fcall=D,s.fbind=L,s.keys=j("keys"),s.all=U,s.allResolved=B,s["catch"]=s.fail=R,s.progress=M,s["finally"]=s.fin=F,s.done=q,s.timeout=P,s.delay=W,s.nfapply=J,s.nfcall=$,s.nfbind=z,s.denodeify=s.nfbind,s.nbind=H,s.npost=X,s.nsend=V,s.ninvoke=s.nsend,s.nodeify=G;var de=u();return s})})(t("__browserify_process"))},{__browserify_process:1}],22:[function(t,e,n){function r(){var t=[].slice.call(arguments).join(" ");throw Error([t,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}var o=t("./sha"),i=t("./rng"),a=t("./md5"),u={sha1:{hex:o.hex_sha1,binary:o.b64_sha1,ascii:o.str_sha1},md5:{hex:a.hex_md5,binary:a.b64_md5,ascii:a.any_md5}};n.createHash=function(t){t=t||"sha1",u[t]||r("algorithm:",t,"is not yet supported");var e="",n=u[t];return{update:function(t){return e+=t,this},digest:function(o){o=o||"binary";var i;(i=n[o])||r("encoding:",o,"is not yet supported for algorithm",t);var a=i(e);return e=null,a}}},n.randomBytes=function(t,e){if(!e||!e.call)return i(t);try{e.call(this,void 0,i(t))}catch(n){e(n)}},["createCredentials","createHmac","createCypher","createCypheriv","createDecipher","createDecipheriv","createSign","createVerify","createDeffieHellman","pbkdf2"].forEach(function(t){n[t]=function(){r("sorry,",t,"is not implemented yet")}})},{"./sha":27,"./rng":28,"./md5":29}],19:[function(t,e){function n(t){t=t||{},i.call(this),this.headers=t.headers||{},this.body=t.body||null,this.headerSent=!1}var r=t("lodash"),o=t("util"),i=t("events").EventEmitter;e.exports=n,o.inherits(n,i),n.prototype.toJSON=function(){return{headers:this.headers,body:this.body}},n.prototype.setHeader=function(t,e){if(2>arguments.length)throw Error("`name` and `value` are required for setHeader().");if(this.headerSent)throw Error("Can't set headers after they are sent.");var n=t.toLowerCase();return this.headers=this.headers||{},this.headers[n]=e,this},n.prototype.getHeader=function(t){if(1>arguments.length)throw Error("`name` is required for getHeader().");if(this.headers){var e=t.toLowerCase(),n=this.headers[e];return n?(0===t.indexOf("x-json")&&r.isString(n)&&(n=this.headers[e]=JSON.parse(n)),n):n}},n.prototype.removeHeader=function(t){if(1>arguments.length)throw Error("`name` is required for removeHeader().");if(this.headerSent)throw Error("Can't remove headers after they are sent.");if(this.headers){var e=t.toLowerCase();delete this.headers[e]}}},{util:5,events:2,lodash:9}],17:[function(t,e){var n=t("lodash"),r=t("./find"),o=t("./search"),i=t("../selector"),a=r(o.searcher),u={title:function(t,e){return t.title().toLowerCase()<e.title().toLowerCase()?-1:t.title().toLowerCase()>e.title().toLowerCase()?1:0}};e.exports={find:function(){var t=n.map(n.toArray(arguments),function(t){return n.isString(t)?i(t):t});return a(t,this)},sort:function(t){return t||(t=u.title),this.each(function(e){var r=e.children().containers().sort(t),o=e.get(0);o.children=n.map(r,function(t){return t.get(0)})}),this},filter:function(t){n.isFunction(t)||(t=o.compiler(t));var e=n.filter(this.containers(),t);return this.spawn(n.map(e,function(t){return t.get(0)}))},match:function(t){if(0>=this.count())return!1;var e=this.filter(t);return e.count()>0}}},{"./search":30,"../selector":26,"./find":31,lodash:9}],20:[function(t,e){function n(t){var e=this;t=t||{},o.apply(this,[t]),this.url=t.url||"/",this.method=t.method||"get",this.query=t.query||{};var n=i.parse(this.url);n.query&&a.each(n.query.split("&"),function(t){var n=t.split("=");e.query[n[0]]=n[1]}),a.each(u,function(t){e[t]=n[t]||s[t]})}var r=t("util"),o=t("./message"),i=t("url"),a=t("lodash");e.exports=n;var u=["protocol","hostname","port","pathname","hash"],s={protocol:"http:",hostname:"localhost",port:null,pathname:"/",hash:null};n.factory=function(t){return new n(t)
},r.inherits(n,o),n.prototype.clone=function(){return n.factory(JSON.parse(JSON.stringify(this.toJSON())))},n.prototype.debug=function(){return this.setHeader("x-digger-debug",!0),this},n.prototype.inject=function(t){var e=this;return a.each(["x-digger-debug","x-json-resource","x-json-meta","x-contract-id"],function(n){var r=e.getHeader(n);r&&t.setHeader(n,r)}),this},n.prototype.toJSON=function(){var t=this,e=o.prototype.toJSON.apply(this);return e.url=this.url,e.method=this.method,e.query=this.query,a.each(u,function(n){e[n]=t[n]}),e},n.prototype.expect=function(t){return this.setHeader("x-expect",t),this}},{util:5,url:3,"./message":19,lodash:9}],28:[function(t,e){(function(){var t,n,r=this;if(t=function(t){for(var e,e,n=Array(t),r=0;t>r;r++)0==(3&r)&&(e=4294967296*Math.random()),n[r]=255&e>>>((3&r)<<3);return n},r.crypto&&crypto.getRandomValues){var o=new Uint32Array(4);n=function(t){var e=Array(t);crypto.getRandomValues(o);for(var n=0;t>n;n++)e[n]=255&o[n>>2]>>>8*(3&n);return e}}e.exports=n||t})()},{}],27:[function(t,e,n){function r(t){return v(c(g(t),t.length*E))}function o(t){return m(c(g(t),t.length*E))}function i(t){return y(c(g(t),t.length*E))}function a(t,e){return v(p(t,e))}function u(t,e){return m(p(t,e))}function s(t,e){return y(p(t,e))}function c(t,e){t[e>>5]|=128<<24-e%32,t[(e+64>>9<<4)+15]=e;for(var n=Array(80),r=1732584193,o=-271733879,i=-1732584194,a=271733878,u=-1009589776,s=0;t.length>s;s+=16){for(var c=r,p=o,g=i,y=a,v=u,m=0;80>m;m++){n[m]=16>m?t[s+m]:d(n[m-3]^n[m-8]^n[m-14]^n[m-16],1);var b=h(h(d(r,5),f(m,o,i,a)),h(h(u,n[m]),l(m)));u=a,a=i,i=d(o,30),o=r,r=b}r=h(r,c),o=h(o,p),i=h(i,g),a=h(a,y),u=h(u,v)}return[r,o,i,a,u]}function f(t,e,n,r){return 20>t?e&n|~e&r:40>t?e^n^r:60>t?e&n|e&r|n&r:e^n^r}function l(t){return 20>t?1518500249:40>t?1859775393:60>t?-1894007588:-899497514}function p(t,e){var n=g(t);n.length>16&&(n=c(n,t.length*E));for(var r=Array(16),o=Array(16),i=0;16>i;i++)r[i]=909522486^n[i],o[i]=1549556828^n[i];var a=c(r.concat(g(e)),512+e.length*E);return c(o.concat(a),672)}function h(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}function d(t,e){return t<<e|t>>>32-e}function g(t){for(var e=[],n=(1<<E)-1,r=0;t.length*E>r;r+=E)e[r>>5]|=(t.charCodeAt(r/E)&n)<<32-E-r%32;return e}function y(t){for(var e="",n=(1<<E)-1,r=0;32*t.length>r;r+=E)e+=String.fromCharCode(t[r>>5]>>>32-E-r%32&n);return e}function v(t){for(var e=b?"0123456789ABCDEF":"0123456789abcdef",n="",r=0;4*t.length>r;r++)n+=e.charAt(15&t[r>>2]>>8*(3-r%4)+4)+e.charAt(15&t[r>>2]>>8*(3-r%4));return n}function m(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",r=0;4*t.length>r;r+=3)for(var o=(255&t[r>>2]>>8*(3-r%4))<<16|(255&t[r+1>>2]>>8*(3-(r+1)%4))<<8|255&t[r+2>>2]>>8*(3-(r+2)%4),i=0;4>i;i++)n+=8*r+6*i>32*t.length?w:e.charAt(63&o>>6*(3-i));return n}n.hex_sha1=r,n.b64_sha1=o,n.str_sha1=i,n.hex_hmac_sha1=a,n.b64_hmac_sha1=u,n.str_hmac_sha1=s;var b=0,w="",E=8},{}],29:[function(t,e,n){function r(t){return u(a(f(t)))}function o(t){return s(a(f(t)))}function i(t,e){return c(a(f(t)),e)}function a(t){return p(h(l(t),8*t.length))}function u(t){try{}catch(e){E=0}for(var n,r=E?"0123456789ABCDEF":"0123456789abcdef",o="",i=0;t.length>i;i++)n=t.charCodeAt(i),o+=r.charAt(15&n>>>4)+r.charAt(15&n);return o}function s(t){try{}catch(e){_=""}for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="",o=t.length,i=0;o>i;i+=3)for(var a=t.charCodeAt(i)<<16|(o>i+1?t.charCodeAt(i+1)<<8:0)|(o>i+2?t.charCodeAt(i+2):0),u=0;4>u;u++)r+=8*i+6*u>8*t.length?_:n.charAt(63&a>>>6*(3-u));return r}function c(t,e){var n,r,o,i,a,u=e.length,s=Array(Math.ceil(t.length/2));for(n=0;s.length>n;n++)s[n]=t.charCodeAt(2*n)<<8|t.charCodeAt(2*n+1);var c=Math.ceil(8*t.length/(Math.log(e.length)/Math.log(2))),f=Array(c);for(r=0;c>r;r++){for(a=[],i=0,n=0;s.length>n;n++)i=(i<<16)+s[n],o=Math.floor(i/u),i-=o*u,(a.length>0||o>0)&&(a[a.length]=o);f[r]=i,s=a}var l="";for(n=f.length-1;n>=0;n--)l+=e.charAt(f[n]);return l}function f(t){for(var e,n,r="",o=-1;++o<t.length;)e=t.charCodeAt(o),n=t.length>o+1?t.charCodeAt(o+1):0,e>=55296&&56319>=e&&n>=56320&&57343>=n&&(e=65536+((1023&e)<<10)+(1023&n),o++),127>=e?r+=String.fromCharCode(e):2047>=e?r+=String.fromCharCode(192|31&e>>>6,128|63&e):65535>=e?r+=String.fromCharCode(224|15&e>>>12,128|63&e>>>6,128|63&e):2097151>=e&&(r+=String.fromCharCode(240|7&e>>>18,128|63&e>>>12,128|63&e>>>6,128|63&e));return r}function l(t){for(var e=Array(t.length>>2),n=0;e.length>n;n++)e[n]=0;for(var n=0;8*t.length>n;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<n%32;return e}function p(t){for(var e="",n=0;32*t.length>n;n+=8)e+=String.fromCharCode(255&t[n>>5]>>>n%32);return e}function h(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var n=1732584193,r=-271733879,o=-1732584194,i=271733878,a=0;t.length>a;a+=16){var u=n,s=r,c=o,f=i;n=g(n,r,o,i,t[a+0],7,-680876936),i=g(i,n,r,o,t[a+1],12,-389564586),o=g(o,i,n,r,t[a+2],17,606105819),r=g(r,o,i,n,t[a+3],22,-1044525330),n=g(n,r,o,i,t[a+4],7,-176418897),i=g(i,n,r,o,t[a+5],12,1200080426),o=g(o,i,n,r,t[a+6],17,-1473231341),r=g(r,o,i,n,t[a+7],22,-45705983),n=g(n,r,o,i,t[a+8],7,1770035416),i=g(i,n,r,o,t[a+9],12,-1958414417),o=g(o,i,n,r,t[a+10],17,-42063),r=g(r,o,i,n,t[a+11],22,-1990404162),n=g(n,r,o,i,t[a+12],7,1804603682),i=g(i,n,r,o,t[a+13],12,-40341101),o=g(o,i,n,r,t[a+14],17,-1502002290),r=g(r,o,i,n,t[a+15],22,1236535329),n=y(n,r,o,i,t[a+1],5,-165796510),i=y(i,n,r,o,t[a+6],9,-1069501632),o=y(o,i,n,r,t[a+11],14,643717713),r=y(r,o,i,n,t[a+0],20,-373897302),n=y(n,r,o,i,t[a+5],5,-701558691),i=y(i,n,r,o,t[a+10],9,38016083),o=y(o,i,n,r,t[a+15],14,-660478335),r=y(r,o,i,n,t[a+4],20,-405537848),n=y(n,r,o,i,t[a+9],5,568446438),i=y(i,n,r,o,t[a+14],9,-1019803690),o=y(o,i,n,r,t[a+3],14,-187363961),r=y(r,o,i,n,t[a+8],20,1163531501),n=y(n,r,o,i,t[a+13],5,-1444681467),i=y(i,n,r,o,t[a+2],9,-51403784),o=y(o,i,n,r,t[a+7],14,1735328473),r=y(r,o,i,n,t[a+12],20,-1926607734),n=v(n,r,o,i,t[a+5],4,-378558),i=v(i,n,r,o,t[a+8],11,-2022574463),o=v(o,i,n,r,t[a+11],16,1839030562),r=v(r,o,i,n,t[a+14],23,-35309556),n=v(n,r,o,i,t[a+1],4,-1530992060),i=v(i,n,r,o,t[a+4],11,1272893353),o=v(o,i,n,r,t[a+7],16,-155497632),r=v(r,o,i,n,t[a+10],23,-1094730640),n=v(n,r,o,i,t[a+13],4,681279174),i=v(i,n,r,o,t[a+0],11,-358537222),o=v(o,i,n,r,t[a+3],16,-722521979),r=v(r,o,i,n,t[a+6],23,76029189),n=v(n,r,o,i,t[a+9],4,-640364487),i=v(i,n,r,o,t[a+12],11,-421815835),o=v(o,i,n,r,t[a+15],16,530742520),r=v(r,o,i,n,t[a+2],23,-995338651),n=m(n,r,o,i,t[a+0],6,-198630844),i=m(i,n,r,o,t[a+7],10,1126891415),o=m(o,i,n,r,t[a+14],15,-1416354905),r=m(r,o,i,n,t[a+5],21,-57434055),n=m(n,r,o,i,t[a+12],6,1700485571),i=m(i,n,r,o,t[a+3],10,-1894986606),o=m(o,i,n,r,t[a+10],15,-1051523),r=m(r,o,i,n,t[a+1],21,-2054922799),n=m(n,r,o,i,t[a+8],6,1873313359),i=m(i,n,r,o,t[a+15],10,-30611744),o=m(o,i,n,r,t[a+6],15,-1560198380),r=m(r,o,i,n,t[a+13],21,1309151649),n=m(n,r,o,i,t[a+4],6,-145523070),i=m(i,n,r,o,t[a+11],10,-1120210379),o=m(o,i,n,r,t[a+2],15,718787259),r=m(r,o,i,n,t[a+9],21,-343485551),n=b(n,u),r=b(r,s),o=b(o,c),i=b(i,f)}return[n,r,o,i]}function d(t,e,n,r,o,i){return b(w(b(b(e,t),b(r,i)),o),n)}function g(t,e,n,r,o,i,a){return d(e&n|~e&r,t,e,o,i,a)}function y(t,e,n,r,o,i,a){return d(e&r|n&~r,t,e,o,i,a)}function v(t,e,n,r,o,i,a){return d(e^n^r,t,e,o,i,a)}function m(t,e,n,r,o,i,a){return d(n^(e|~r),t,e,o,i,a)}function b(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}function w(t,e){return t<<e|t>>>32-e}var E=0,_="";n.hex_md5=r,n.b64_md5=o,n.any_md5=i},{}],25:[function(t,e){function n(t){return!c.isUndefined(t)&&!c.isNull(t)}function r(t){if(t.nodeType==t.ELEMENT_NODE){var e={id:!0,diggerid:!0},o={tag:!0,"class":!0},i={_digger:{tag:t.nodeName,"class":c.filter((t.getAttribute("class")||"").split(/\s+/),function(t){return t.match(/\w/)})},_children:[]};return c.each(e,function(e,n){i._digger[n]=t.getAttribute(n)||""}),c.each(t.attributes,function(t){e[t.name]||o[t.name]||(i[t.name]=t.value)}),i._children=c.filter(c.map(t.childNodes,r),n),i}}function o(t){return f.DOMParser!==void 0?function(t){var e=(new f.DOMParser).parseFromString(t,"text/xml");return c.map(e.childNodes,r)}(t):f&&f.ActiveXObject!==void 0&&new f.ActiveXObject("Microsoft.XMLDOM")?function(t){var e=new f.ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(t),c.map(e.childNodes,r)}(t):void 0}function i(e){var n=t("xmldom"),o=n.DOMParser,i=(new o).parseFromString(e),a=c.map(i.childNodes,r);return a}function a(t){return l?i(t):o(t)}function u(t,e){function n(){for(var t="	",n="",r=0;e>r;r++)n+=t;return n}var r=t._digger||{},o=t._children||[],i=t,a={id:r.id,"class":c.isArray(r.class)?r.class.join(" "):""},s=[];if(c.each(i,function(t,e){"_digger"!=e&&(a[e]=c.isString(t)?t:""+t)}),c.each(a,function(t,e){c.isEmpty(t)||s.push(e+'="'+t+'"')}),o&&o.length>0){var f=n()+"<"+r.tag+" "+s.join(" ")+">"+"\n";return c.each(o,function(t){f+=u(t,e+1)}),f+=n()+"</"+r.tag+">"+"\n"}return n()+"<"+r.tag+" "+s.join(" ")+" />"+"\n"}function s(t){return c.map(t,function(t){return u(t,0)}).join("\n")}var c=t("lodash"),f=this;e.exports.parse=a,e.exports.stringify=s;var l=!f.document},{lodash:9,xmldom:32}],26:[function(t,e){function n(t){for(var e=null,n=t?t:"",r="",o=[],i=function(){e=null;for(var t in u){var r=u[t];if(e=n.match(r.regexp))return o.push(a.extend({value:e[0]},r)),n=n.replace(e[0],""),!0}return!1};i()&&r!=n;);return o}function r(){return{classnames:{},attr:[],modifier:{}}}function o(t){if(!a.isString(t))return t;var e=n(t),o=[],i=[],u=r(),s=function(){i.length>0&&o.push(i),i=[]},c=function(){a.keys(u).length>0&&i.push(u),u=r()},f=function(t,e){t.mapper.apply(null,[t.value,e])};return a.each(e,function(t,e){"splitter"==t.name&&t.value.match(/,/)?(c(),s()):("splitter"==t.name&&e>0&&c(),f(t,u))}),c(),s(),{string:t,phases:o}}function i(t){if(!a.isString(t))return t;t=t||"";var e={"class":{},modifier:{}};return t=t.replace(/_(\w+)/,function(t,n){return e.id=n,""}),t=t.replace(/\.(\w+)/g,function(t,n){return e.class[n]=!0,""}),t.match(/\d/)?e.diggerid=t:e.tag=t,e}var a=t("lodash");e.exports=o,e.exports.mini=i;var u=[{name:"tag",regexp:/^(\*|\w+)/,mapper:function(t,e){e.tag=t}},{name:"class",regexp:/^\.\w+/,mapper:function(t,e){e.class=e.class||{},e.class[t.replace(/^\./,"")]=!0}},{name:"id",regexp:/^#\w+/,mapper:function(t,e){e.id=t.replace(/^#/,"")}},{name:"diggerid",regexp:/^=[\w-]+/,mapper:function(t,e){e.diggerid=t.replace(/^=/,"")}},{name:"modifier",regexp:/^:\w+(\(.*?\))?/,mapper:function(t,e){e.modifier=e.modifier||{};var n=t.split("("),r=n[0];t=n[1],t?(t=t.replace(/\)$/,""),t=JSON.parse(t)):t=!0,e.modifier[r.replace(/^:/,"")]=t}},{name:"attr",regexp:/^\[.*?["']?.*?["']?\]/,mapper:function(t,e){e.attr=e.attr||[];var n=t.match(/\[(.*?)([=><\^\|\*\~\$\!]+)["']?(.*?)["']?\]/);n?e.attr.push({field:n[1],operator:n[2],value:n[3]}):e.attr.push({field:attrString.replace(/^\[/,"").replace(/\]$/,"")})}},{name:"splitter",regexp:/^[ ,<>]+/,mapper:function(t,e){e.splitter=t.replace(/\s+/g,"")}}]},{lodash:9}],32:[function(t,e,n){function r(t){this.options=1!=t&&t||{locator:{}}}function o(t,e,n){function r(e){var r=t[e];if(!r)if(a)r=2==t.length?function(n){t(e,n)}:t;else for(var i=arguments.length;--i&&!(r=t[arguments[i]]););o[e]=r&&function(t){r(t+u(n))}||function(){}}if(!t){if(e instanceof i)return e;t=e}var o={},a=t instanceof Function;return n=n||{},r("warning","warn"),r("error","warn","warning"),r("fatalError","warn","warning","error"),o}function i(){this.cdata=!1}function a(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function u(t){return t?"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]":void 0}function s(t,e,n){return"string"==typeof t?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}function c(t,e){t.currentElement?t.currentElement.appendChild(e):t.document.appendChild(e)}if(r.prototype.parseFromString=function(t,e){var n=new f,r=this.options,a=r.domBuilder||new i,u=r.errorHandler,s=r.locator,c={},l={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return s&&a.setDocumentLocator(s),n.errorHandler=o(u,a,s),n.domBuilder=r.domBuilder||a,/\/x?html?$/.test(e)&&(l.nbsp=" ",l.copy="©",c[""]="http://www.w3.org/1999/xhtml"),n.parse(t,c,l),a.document},i.prototype={startDocument:function(){this.document=(new l).createDocument(null,null,null),this.locator&&(this.document.documentURI=this.locator.systemId)},startElement:function(t,e,n,r){var o=this.document,i=o.createElementNS(t,n||e),u=r.length;c(this,i),this.currentElement=i,this.locator&&a(this.locator,i);for(var s=0;u>s;s++){var t=r.getURI(s),f=r.getValue(s),n=r.getQName(s),l=o.createAttributeNS(t,n);l.getOffset&&a(l.getOffset(1),l),l.value=l.nodeValue=f,i.setAttributeNode(l)}},endElement:function(){var t=this.currentElement;t.tagName,this.currentElement=t.parentNode},startPrefixMapping:function(){},endPrefixMapping:function(){},processingInstruction:function(t,e){var n=this.document.createProcessingInstruction(t,e);this.locator&&a(this.locator,n),c(this,n)},ignorableWhitespace:function(){},characters:function(t){if(t=s.apply(this,arguments),this.currentElement&&t){if(this.cdata){var e=this.document.createCDATASection(t);this.currentElement.appendChild(e)}else{var e=this.document.createTextNode(t);this.currentElement.appendChild(e)}this.locator&&a(this.locator,e)}},skippedEntity:function(){},endDocument:function(){this.document.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t){t=s.apply(this,arguments);var e=this.document.createComment(t);this.locator&&a(this.locator,e),c(this,e)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var r=this.document.implementation;if(r&&r.createDocumentType){var o=r.createDocumentType(t,e,n);this.locator&&a(this.locator,o),c(this,o)}},warning:function(t){console.warn(t,u(this.locator))},error:function(t){console.error(t,u(this.locator))},fatalError:function(t){throw console.error(t,u(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){i.prototype[t]=function(){return null}}),"function"==typeof t){var f=t("./sax").XMLReader,l=n.DOMImplementation=t("./dom").DOMImplementation;n.XMLSerializer=t("./dom").XMLSerializer,n.DOMParser=r}},{"./dom":33,"./sax":34}],31:[function(t,e){function n(t){this.count=t.length,this.index=0,this.finished=!1}function r(t){return function(e,r){var i=new n(e),a=r.spawn();return o.each(e.reverse(),function(e){i.next();var u=r.spawn();return o.each(e.phases,function(e){var i=r,a=new n(e);o.each(e,function(e){a.next();var n=t(e,i);return 0>=n.count()?!1:(a.finished?u.add(n):i=n,!0)})}),0>=u.count()?!1:(i.finished?a=u:r=u,void 0)}),a}}var o=t("lodash");e.exports=r,n.prototype.next=function(){this.index++,this.index>=this.count&&(this.finished=!0)}},{lodash:9}],30:[function(t,e){function n(t){return function(e){if("*"==t.tag)return!0;if(t.id&&e.id()!=t.id)return!1;if(t.diggerid&&e.diggerid()!=t.diggerid)return!1;if(t.tag&&e.tag()!=t.tag)return!1;if(t.class)return o.all(o.keys(t.class),function(t){return e.hasClass(t)});if(t.attr){var n=o.all(t.attr,function(t){var n=e.attr(t.field),r=a[t.operator];return t.value?r?r.apply(null,[n,t.value]):!1:null!==n});if(!n)return!1}return!0}}function r(t,e){var r=n(t),o=e;if(">"==t.splitter)o=e.children();else{if("<"==t.splitter)throw Error("we do not support the parent splitter at the moment");o=e.descendents()}var i=o.filter(r),a=t.modifier||{};return a.limit&&(i.models=i.models.slice(0,a.limit)),a.first&&i.models.length>0?i.models=[i.models[0]]:a.last&&i.models.length>0&&(i.models=[i.models[i.models.length-1]]),i}var o=t("lodash"),i=t("../../utils");t("async"),e.exports.searcher=r,e.exports.compiler=n;var a={"=":function(t,e){return!o.isUndefined(t)&&t==e},"!=":function(t,e){return!o.isUndefined(t)&&t!=e},">":function(t,e){return e=parseFloat(e),o.isUndefined(t)||isNaN(e)?!1:t>e},">=":function(t,e){return e=parseFloat(e),o.isUndefined(t)||isNaN(e)?!1:t>=e},"<":function(t,e){return e=parseFloat(e),o.isUndefined(t)||isNaN(e)?!1:e>t},"<=":function(t,e){return e=parseFloat(e),o.isUndefined(t)||isNaN(e)?!1:e>=t},"^=":function(t,e){return!o.isUndefined(t)&&null!==t.match(RegExp("^"+i.escapeRegexp(e),"i"))},"$=":function(t,e){return!o.isUndefined(t)&&null!==t.match(RegExp(i.escapeRegexp(e)+"$","i"))},"~=":function(t,e){return!o.isUndefined(t)&&null!==t.match(RegExp("\\W"+i.escapeRegexp(e)+"\\W","i"))},"|=":function(t,e){return!o.isUndefined(t)&&null!==t.match(RegExp("^"+i.escapeRegexp(e)+"-","i"))},"*=":function(t,e){return!o.isUndefined(t)&&null!==t.match(RegExp(i.escapeRegexp(e),"i"))}}},{"../../utils":14,lodash:9,async:10}],34:[function(t,e,n){function r(){}function o(t,e,n,r,o){function f(t){var e=t.slice(1,-1);return e in n?n[e]:"#"===e.charAt(0)?String.fromCharCode(parseInt(e.substr(1).replace("x","0x"))):(o.error("entity not found:"+t),t)}function d(e){var n=t.substring(_,e).replace(/&#?\w+;/g,f);b&&g(_),r.characters(n,0,e-_),_=e}function g(e,n){for(;e>=v&&(n=m.exec(t));)y=n.index,v=y+n[0].length,b.lineNumber++;b.columnNumber=e-y+1}for(var y=0,v=0,m=/.+(?:\r\n?|\n)|.*$/g,b=r.locator,w=[{currentNSMap:e}],E={},_=0;;){var x=t.indexOf("<",_);switch(x>_&&d(x),t.charAt(x+1)){case"/":var k=t.indexOf(">",x+3),N=t.substring(x+2,k),S=w.pop(),A=S.localNSMap;if(S.tagName!=N&&o.fatalError("end tag name: "+N+" is not match the current start tagName:"+S.tagName),r.endElement(S.uri,S.localName,N),A)for(var I in A)r.endPrefixMapping(I);k++;break;case"?":b&&g(x),k=p(t,x,r);break;case"!":b&&g(x),k=l(t,x,r);break;default:if(0>x)return t.substr(_).match(/^\s*$/)||o.error("source code out of document root"),void 0;try{b&&g(x);var C=new h,k=a(t,x,C,f,o),j=C.length;if(j&&b){for(var O=i(b,{}),x=0;j>x;x++){var T=C[x];g(T.offset),T.offset=i(b,{})}i(O,b)}C.closed=C.closed||c(t,k,C.tagName,E),u(C,r,w),"http://www.w3.org/1999/xhtml"!==C.uri||C.closed?k++:k=s(t,k,C.tagName,f,r)}catch(D){o.error("element parse error: "+D),k=-1}}0>k?d(x+1):_=k}}function i(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function a(t,e,n,r,o){for(var i,a,u=++e,s=b;;){var c=t.charAt(u);switch(c){case"=":if(s===w)i=t.slice(e,u),s=_;else{if(s!==E)throw Error("attribute equal must after attrName");s=_}break;case"'":case'"':if(s===_){if(e=u+1,u=t.indexOf(c,e),!(u>0))throw Error("attribute value no end '"+c+"' match");a=t.slice(e,u).replace(/&#?\w+;/g,r),n.add(i,a,e-1),s=k}else{if(s!=x)throw Error('attribute value must after "="');a=t.slice(e,u).replace(/&#?\w+;/g,r),n.add(i,a,e),o.warning('attribute "'+i+'" missed start quot('+c+")!!"),e=u+1,s=k}break;case"/":switch(s){case b:n.setTagName(t.slice(e,u));case k:case N:case S:s=S,n.closed=!0;case x:case w:case E:break;default:throw Error("attribute invalid close char('/')")}break;case">":switch(s){case b:n.setTagName(t.slice(e,u));case k:case N:case S:break;case x:case w:a=t.slice(e,u),"/"===a.slice(-1)&&(n.closed=!0,a=a.slice(0,-1));case E:s===E&&(a=i),s==x?(o.warning('attribute "'+a+'" missed quot(")!!'),n.add(i,a.replace(/&#?\w+;/g,r),e)):(o.warning('attribute "'+a+'" missed value!! "'+a+'" instead!!'),n.add(a,a,e));break;case _:throw Error("attribute value missed!!")}return u;case"":c=" ";default:if(" ">=c)switch(s){case b:n.setTagName(t.slice(e,u)),s=N;break;case w:i=t.slice(e,u),s=E;break;case x:var a=t.slice(e,u).replace(/&#?\w+;/g,r);o.warning('attribute "'+a+'" missed quot(")!!'),n.add(i,a,e);case k:s=N}else switch(s){case E:o.warning('attribute "'+i+'" missed value!! "'+i+'" instead!!'),n.add(i,i,e),e=u,s=w;break;case k:o.warning('attribute space is required"'+i+'"!!');case N:s=w,e=u;break;case _:s=x,e=u;break;case S:throw Error("elements closed character '/' and '>' must be connected to")}}u++}}function u(t,e,n){for(var r=t.tagName,o=null,i=n[n.length-1].currentNSMap,a=t.length;a--;){var u=t[a],s=u.qName,c=u.value,l=s.indexOf(":");if(l>0)var p=u.prefix=s.slice(0,l),h=s.slice(l+1),d="xmlns"===p&&h;else h=s,p=null,d="xmlns"===s&&"";u.localName=h,d!==!1&&(null==o&&(o={},f(i,i={})),i[d]=o[d]=c,u.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(d,c))}for(var a=t.length;a--;){u=t[a];var p=u.prefix;p&&("xml"===p&&(u.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==p&&(u.uri=i[p]))}var l=r.indexOf(":");l>0?(p=t.prefix=r.slice(0,l),h=t.localName=r.slice(l+1)):(p=null,h=t.localName=r);var g=t.uri=i[p||""];if(e.startElement(g,h,r,t),t.closed){if(e.endElement(g,h,r),o)for(p in o)e.endPrefixMapping(p)}else t.currentNSMap=i,t.localNSMap=o,n.push(t)}function s(t,e,n,r,o){if(/^(?:script|textarea)$/i.test(n)){var i=t.indexOf("</"+n+">",e),a=t.substring(e+1,i);if(/[&<]/.test(a))return/^script$/i.test(n)?(o.characters(a,0,a.length),i):(a=a.replace(/&#?\w+;/g,r),o.characters(a,0,a.length),i)}return e+1}function c(t,e,n,r){var o=r[n];return null==o&&(o=r[n]=t.lastIndexOf("</"+n+">")),e>o}function f(t,e){for(var n in t)e[n]=t[n]}function l(t,e,n){var r=t.charAt(e+2);switch(r){case"-":if("-"===t.charAt(e+3)){var o=t.indexOf("-->",e+4);return n.comment(t,e+4,o-e-4),o+3}return-1;default:if("CDATA["==t.substr(e+3,6)){var o=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,o-e-9),n.endCDATA(),o+3}var i=g(t,e),a=i.length;if(a>1&&/!doctype/i.test(i[0][0])){var u=i[1][0],s=a>3&&/^public$/i.test(i[2][0])&&i[3][0],c=a>4&&i[4][0],f=i[a-1];return n.startDTD(u,s,c),n.endDTD(),f.index+f[0].length}}return-1}function p(t,e,n){var r=t.indexOf("?>",e);if(r){var o=t.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return o?(o[0].length,n.processingInstruction(o[1],o[2]),r+2):-1}return-1}function h(){}function d(t,e){return t.__proto__=e,t}function g(t,e){var n,r=[],o=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(o.lastIndex=e,o.exec(t);n=o.exec(t);)if(r.push(n),n[1])return r}var y=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=RegExp("[\\-\\.0-9"+y.source.slice(1,-1)+"·̀-ͯ\\ux203F-⁀]"),m=RegExp("^"+y.source+v.source+"*(?::"+y.source+v.source+"*)?$"),b=0,w=1,E=2,_=3,x=4,k=5,N=6,S=7;r.prototype={parse:function(t,e,n){var r=this.domBuilder;r.startDocument(),f(e,e={}),o(t,e,n,r,this.errorHandler),r.endDocument()}},h.prototype={setTagName:function(t){if(!m.test(t))throw Error("invalid tagName:"+t);this.tagName=t},add:function(t,e,n){if(!m.test(t))throw Error("invalid attribute:"+t);this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getOffset:function(t){return this[t].offset},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},d({},d.prototype)instanceof d||(d=function(t,e){function n(){}n.prototype=e,n=new n;for(e in t)n[e]=t[e];return n}),"function"==typeof t&&(n.XMLReader=r),"function"==typeof t&&(n.XMLReader=r)},{}],33:[function(t,e,n){function r(t,e){for(var n in t)e[n]=t[n]}function o(t,e){function n(){}var o=t.prototype;if(Object.create){var i=Object.create(e.prototype);o.__proto__=i}o instanceof e||(n.prototype=e.prototype,n=new n,r(o,n),t.prototype=o=n),o.constructor!=t&&("function"!=typeof t&&console.error("unknow Class:"+t),o.constructor=t)}function i(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,re[t]),this.message=re[t],Error.captureStackTrace&&Error.captureStackTrace(this,i);return n.code=t,e&&(this.message=this.message+": "+e),n}function a(){}function u(t,e){this._node=t,this._refresh=e,s(this)}function s(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var n=t._refresh(t._node);q(t,"length",n.length),r(n,t),t._inc=e}}function c(){}function f(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function l(t,e,n,r){if(r?e[f(e,r)]=n:e[e.length++]=n,t){n.ownerElement=t;var o=t.ownerDocument;o&&(r&&b(o,t,r),m(o,t,n))}}function p(t,e,n){var r=f(e,n);if(!(r>=0))throw i(oe,Error());for(var o=e.length-1;o>r;)e[r]=e[++r];if(e.length=o,t){var a=t.ownerDocument;a&&(b(a,t,n),n.ownerElement=null)}}function h(t){if(this._features={},t)for(var e in t)this._features=t[e]}function d(){}function g(t){return"<"==t&&"&lt;"||">"==t&&"&gt;"||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function y(t,e){if(e(t))return!0;if(t=t.firstChild)do if(y(t,e))return!0;while(t=t.nextSibling)}function v(){}function m(t,e,n){t&&t._inc++;var r=n.namespaceURI;"http://www.w3.org/2000/xmlns/"==r&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function b(t,e,n){t&&t._inc++;var r=n.namespaceURI;"http://www.w3.org/2000/xmlns/"==r&&delete e._nsMap[n.prefix?n.localName:""]}function w(t,e,n){if(t&&t._inc){t._inc++;var r=e.childNodes;if(n)r[r.length++]=n;else{for(var o=e.firstChild,i=0;o;)r[i++]=o,o=o.nextSibling;r.length=i}}}function E(t,e){var n=e.previousSibling,r=e.nextSibling;return n?n.nextSibling=r:t.firstChild=r,r?r.previousSibling=n:t.lastChild=n,w(t.ownerDocument,t),e}function _(t,e,n){var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===te){var o=e.firstChild;if(null==o)return e;var i=e.lastChild}else o=i=e;var a=n?n.previousSibling:t.lastChild;o.previousSibling=a,i.nextSibling=n,a?a.nextSibling=o:t.firstChild=o,null==n?t.lastChild=i:n.previousSibling=i;do o.parentNode=t;while(o!==i&&(o=o.nextSibling));return w(t.ownerDocument||t,t),e.nodeType==te&&(e.firstChild=e.lastChild=null),e}function x(t,e){var n=e.parentNode;if(n){var r=t.lastChild;n.removeChild(e);var r=t.lastChild}var r=t.lastChild;return e.parentNode=t,e.previousSibling=r,e.nextSibling=null,r?r.nextSibling=e:t.firstChild=e,t.lastChild=e,w(t.ownerDocument,t,e),e}function k(){this._nsMap={}}function N(){}function S(){}function A(){}function I(){}function C(){}function j(){}function O(){}function T(){}function D(){}function L(){}function U(){}function B(){}function R(t,e){switch(t.nodeType){case $:var n=t.attributes,r=n.length,o=t.firstChild,i=t.tagName,a=W===t.namespaceURI;e.push("<",i);for(var u=0;r>u;u++)R(n.item(u),e,a);if(o||a&&!/^(?:meta|link|img|br|hr|input)$/i.test(i)){if(e.push(">"),a&&/^script$/i.test(i))o&&e.push(o.data);else for(;o;)R(o,e),o=o.nextSibling;e.push("</",i,">")}else e.push("/>");return;case Q:case te:for(var o=t.firstChild;o;)R(o,e),o=o.nextSibling;return;case z:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,g),'"');case H:return e.push(t.data.replace(/[<&]/g,g));case X:return e.push("<![CDATA[",t.data,"]]>");case Z:return e.push("<!--",t.data,"-->");case K:var s=t.publicId,c=t.systemId;if(e.push("<!DOCTYPE ",t.name),s)e.push(' PUBLIC "',s),c&&"."!=c&&e.push('" "',c),e.push('">');else if(c&&"."!=c)e.push(' SYSTEM "',c,'">');else{var f=t.internalSubset;f&&e.push(" [",f,"]"),e.push(">")}return;case Y:return e.push("<?",t.target," ",t.data,"?>");case V:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function M(t,e,n){var r;switch(e.nodeType){case $:r=e.cloneNode(!1),r.ownerDocument=t;for(var o=r.attributes,i=o.length,a=0;i>a;a++)r.setAttributeNodeNS(M(t,o.item(a),n));case te:break;case z:n=!0}if(r||(r=e.cloneNode(!1)),r.ownerDocument=t,r.parentNode=null,n)for(var u=e.firstChild;u;)r.appendChild(M(t,u,n)),u=u.nextSibling;return r}function F(t,e,n){var r=new e.constructor;for(var o in e){var i=e[o];"object"!=typeof i&&i!=r[o]&&(r[o]=i)}switch(e.childNodes&&(r.childNodes=new a),r.ownerDocument=t,r.nodeType){case $:var u=e.attributes,s=r.attributes=new c,f=u.length;s._ownerElement=r;for(var l=0;f>l;l++)r.setAttributeNode(F(t,u.item(l),!0));break;case z:n=!0}if(n)for(var p=e.firstChild;p;)r.appendChild(F(t,p,n)),p=p.nextSibling;return r}function q(t,e,n){t[e]=n}function P(t){switch(t.nodeType){case 1:case 11:var e=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&e.push(P(t)),t=t.nextSibling;return e.join("");default:return t.nodeValue}}var W="http://www.w3.org/1999/xhtml",J={},$=J.ELEMENT_NODE=1,z=J.ATTRIBUTE_NODE=2,H=J.TEXT_NODE=3,X=J.CDATA_SECTION_NODE=4,V=J.ENTITY_REFERENCE_NODE=5,G=J.ENTITY_NODE=6,Y=J.PROCESSING_INSTRUCTION_NODE=7,Z=J.COMMENT_NODE=8,Q=J.DOCUMENT_NODE=9,K=J.DOCUMENT_TYPE_NODE=10,te=J.DOCUMENT_FRAGMENT_NODE=11,ee=J.NOTATION_NODE=12,ne={},re={};ne.INDEX_SIZE_ERR=(re[1]="Index size error",1),ne.DOMSTRING_SIZE_ERR=(re[2]="DOMString size error",2),ne.HIERARCHY_REQUEST_ERR=(re[3]="Hierarchy request error",3),ne.WRONG_DOCUMENT_ERR=(re[4]="Wrong document",4),ne.INVALID_CHARACTER_ERR=(re[5]="Invalid character",5),ne.NO_DATA_ALLOWED_ERR=(re[6]="No data allowed",6),ne.NO_MODIFICATION_ALLOWED_ERR=(re[7]="No modification allowed",7);var oe=ne.NOT_FOUND_ERR=(re[8]="Not found",8);ne.NOT_SUPPORTED_ERR=(re[9]="Not supported",9);var ie=ne.INUSE_ATTRIBUTE_ERR=(re[10]="Attribute in use",10);ne.INVALID_STATE_ERR=(re[11]="Invalid state",11),ne.SYNTAX_ERR=(re[12]="Syntax error",12),ne.INVALID_MODIFICATION_ERR=(re[13]="Invalid modification",13),ne.NAMESPACE_ERR=(re[14]="Invalid namespace",14),ne.INVALID_ACCESS_ERR=(re[15]="Invalid access",15),i.prototype=Error.prototype,r(ne,i),a.prototype={length:0,item:function(t){return this[t]||null}},u.prototype.item=function(t){return s(this),this[t]},o(u,a),c.prototype={length:0,item:a.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new i(ie);var n=this.getNamedItem(t.nodeName);return l(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e,n=t.ownerElement;if(n&&n!=this._ownerElement)throw new i(ie);return e=this.getNamedItemNS(t.namespaceURI,t.localName),l(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return p(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return p(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var r=this[n];if(r.localName==e&&r.namespaceURI==t)return r}return null}},h.prototype={hasFeature:function(t,e){var n=this._features[t.toLowerCase()];return n&&(!e||e in n)?!0:!1},createDocument:function(t,e,n){var r=new v;if(r.doctype=n,n&&r.appendChild(n),r.implementation=this,r.childNodes=new a,e){var o=r.createElementNS(t,e);r.appendChild(o)}return r},createDocumentType:function(t,e,n){var r=new j;return r.name=t,r.nodeName=t,r.publicId=e,r.systemId=n,r}},d.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return _(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return E(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return F(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==H&&t.nodeType==H?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n)for(var r in n)if(n[r]==t)return r;e=2==e.nodeType?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&t in n)return n[t];e=2==e.nodeType?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return null==e}},r(J,d),r(J,d.prototype),v.prototype={nodeName:"#document",nodeType:Q,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==te){for(var n=t.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,e),n=r}return t}return null==this.documentElement&&1==t.nodeType&&(this.documentElement=t),_(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),E(this,t)},importNode:function(t,e){return M(this,t,e)},getElementById:function(t){var e=null;
return y(this.documentElement,function(n){return 1==n.nodeType&&n.getAttribute("id")==t?(e=n,!0):void 0}),e},createElement:function(t){var e=new k;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new a;var n=e.attributes=new c;return n._ownerElement=e,e},createDocumentFragment:function(){var t=new L;return t.ownerDocument=this,t.childNodes=new a,t},createTextNode:function(t){var e=new A;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new I;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new C;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new U;return n.ownerDocument=this,n.tagName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new N;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new D;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new k,r=e.split(":"),o=n.attributes=new c;return n.childNodes=new a,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=e,o._ownerElement=n,n},createAttributeNS:function(t,e){var n=new N,r=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=e,n}},o(v,d),k.prototype={nodeType:$,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===te?this.insertBefore(t,null):x(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var r=this.ownerDocument.createAttributeNS(t,e);r.value=r.nodeValue=n,this.setAttributeNode(r)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new u(this,function(e){var n=[];return y(e,function(r){r===e||r.nodeType!=$||"*"!==t&&r.tagName!=t||n.push(r)}),n})},getElementsByTagNameNS:function(t,e){return new u(this,function(n){var r=[];return y(n,function(o){o===n||o.nodeType!==$||o.namespaceURI!==t||"*"!==e&&o.localName!=e||r.push(o)}),r})}},v.prototype.getElementsByTagName=k.prototype.getElementsByTagName,v.prototype.getElementsByTagNameNS=k.prototype.getElementsByTagNameNS,o(k,d),N.prototype.nodeType=z,o(N,d),S.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(){throw Error(re[3])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var r=this.data.substring(0,t),o=this.data.substring(t+e);n=r+n+o,this.nodeValue=this.data=n,this.length=n.length}},o(S,d),A.prototype={nodeName:"#text",nodeType:H,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},o(A,S),I.prototype={nodeName:"#comment",nodeType:Z},o(I,S),C.prototype={nodeName:"#cdata-section",nodeType:X},o(C,S),j.prototype.nodeType=K,o(j,d),O.prototype.nodeType=ee,o(O,d),T.prototype.nodeType=G,o(T,d),D.prototype.nodeType=V,o(D,d),L.prototype.nodeName="#document-fragment",L.prototype.nodeType=te,o(L,d),U.prototype.nodeType=Y,o(U,d),B.prototype.serializeToString=function(t){var e=[];return R(t,e),e.join("")},d.prototype.toString=function(){return B.prototype.serializeToString(this)};try{Object.defineProperty&&(Object.defineProperty(u.prototype,"length",{get:function(){return s(this),this.$$length}}),Object.defineProperty(d.prototype,"textContent",{get:function(){return P(this)},set:function(t){switch(this.nodeType){case 1:case 11:for(;this.firstChild;)this.removeChild(this.firstChild);(t||t+"")&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=value,this.nodeValue=t}}}),q=function(t,e,n){t["$$"+e]=n})}catch(ae){}"function"==typeof t&&(n.DOMImplementation=h,n.XMLSerializer=B)},{}]},{},[6]);